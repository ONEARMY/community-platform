"use strict";(self.webpackChunkoa_docs=self.webpackChunkoa_docs||[]).push([[985],{5862:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>m,frontMatter:()=>c,metadata:()=>s,toc:()=>a});var i=t(4848),r=t(8453);const c={},l="Deployment via CircleCI",s={id:"Deployment/circle-ci",title:"Deployment via CircleCI",description:"We use CircleCI to handle automated build-test-deploy cycles when PRs and releases are created from the GitHub Repository",source:"@site/docs/Deployment/circle-ci.md",sourceDirName:"Deployment",slug:"/Deployment/circle-ci",permalink:"/Deployment/circle-ci",draft:!1,unlisted:!1,editUrl:"https://github.com/ONEARMY/community-platform/edit/master/packages/documentation/docs/Deployment/circle-ci.md",tags:[],version:"current",frontMatter:{},sidebar:"mainSidebar",previous:{title:"E2E Testing",permalink:"/Testing/end-to-end"},next:{title:"Environmental Impact",permalink:"/Environmental Impact/environmental-impact"}},o={},a=[{value:"Environment Variables",id:"environment-variables",level:2},{value:"Runtime Variables",id:"runtime-variables",level:3},{value:"Misc Variables",id:"misc-variables",level:3}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"deployment-via-circleci",children:"Deployment via CircleCI"})}),"\n",(0,i.jsx)(n.p,{children:"We use CircleCI to handle automated build-test-deploy cycles when PRs and releases are created from the GitHub Repository"}),"\n",(0,i.jsx)(n.h2,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,i.jsxs)(n.p,{children:["The following environment variables should be set within the ",(0,i.jsx)(n.a,{href:"https://circleci.com/docs/2.0/env-vars/",children:"CircleCI Environment"}),", or via ",(0,i.jsx)(n.a,{href:"https://circleci.com/docs/2.0/contexts/",children:"CircleCI Contexts"})]}),"\n",(0,i.jsx)(n.h3,{id:"runtime-variables",children:"Runtime Variables"}),"\n",(0,i.jsxs)(n.p,{children:["Any variables prefixed with ",(0,i.jsx)(n.code,{children:"VITE_"})," are automatically included with the runtime build. Currently we require:"]}),"\n",(0,i.jsx)(n.p,{children:"Sentry error tracking"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"VITE_SENTRY_DSN\n"})}),"\n",(0,i.jsx)(n.p,{children:"Google Analytics"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"VITE_GA_TRACKING_ID\n"})}),"\n",(0,i.jsx)(n.h3,{id:"misc-variables",children:"Misc Variables"}),"\n",(0,i.jsx)(n.p,{children:"Proposed (but not currently implemented)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"LIGHTHOUSE_API_KEY\n"})})]})}function m(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>s});var i=t(6540);const r={},c=i.createContext(r);function l(e){const n=i.useContext(c);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(c.Provider,{value:n},e.children)}}}]);