import{j as u}from"./jsx-runtime-CexXSJP5.js";import{a as c,r as y}from"./index-BP8_t0zE.js";import{C as M}from"./CardListItem-CPIPUjSC.js";import{I as P}from"./Icon-CpKwKOZA.js";import{L as O}from"./Loader-DmqUoSY8.js";import{F as v,T as _}from"./theme-ui-components.esm-DCiJ1mMX.js";function g(){return g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g.apply(this,arguments)}function N(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,C(t,e)}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var x=function(t){function e(){return t.apply(this,arguments)||this}N(e,t);var n=e.prototype;return n.getColumns=function(){var t=this.props,e=t.children,n=t.columnsCount,r=Array.from({length:n},(function(){return[]}));return c.Children.forEach(e,(function(t,e){t&&c.isValidElement(t)&&r[e%n].push(t)})),r},n.renderColumns=function(){var t=this.props.gutter;return this.getColumns().map((function(e,n){return c.createElement("div",{key:n,style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignContent:"stretch",flex:1,width:0,gap:t}},e.map((function(t){return t})))}))},n.render=function(){var t=this.props,e=t.gutter,n=t.className,r=t.style;return c.createElement("div",{style:g({display:"flex",flexDirection:"row",justifyContent:"center",alignContent:"stretch",boxSizing:"border-box",width:"100%",gap:e},r),className:n},this.renderColumns())},e}(c.Component);x.propTypes={},x.defaultProps={columnsCount:3,gutter:"0",className:null,style:{}};var T=1,j=typeof window<"u"?y.useLayoutEffect:y.useEffect,I=function(){var t=y.useState(!1),e=t[0],n=t[1];return j((function(){n(!0)}),[]),e},S=function(){var t=I(),e=y.useState(0),n=e[0],r=e[1],o=y.useCallback((function(){t&&r(window.innerWidth)}),[t]);return j((function(){if(t)return window.addEventListener("resize",o),o(),function(){return window.removeEventListener("resize",o)}}),[t,o]),n},L=function(t){var e=t.columnsCountBreakPoints,n=void 0===e?{350:1,750:2,900:3}:e,r=t.children,o=t.className,i=void 0===o?null:o,s=t.style,u=void 0===s?null:s,a=S(),l=y.useMemo((function(){var t=Object.keys(n).sort((function(t,e){return t-e})),e=t.length>0?n[t[0]]:T;return t.forEach((function(t){t<a&&(e=n[t])})),e}),[a,n]);return c.createElement("div",{className:i,style:u},c.Children.map(r,(function(t,e){return c.cloneElement(t,{key:e,columnsCount:l})})))};L.propTypes={};const b="Oh nos! Nothing to show!",w=t=>{const{columnsCountBreakPoints:e,dataCy:n,filteredList:r,list:o}=t,i=(null===r?o:r).sort(((t,e)=>{var n,r;return Date.parse((null==(n=e.creator)?void 0:n._lastActive)||"0")-Date.parse((null==(r=t.creator)?void 0:r._lastActive)||"0")})).map((t=>u.jsx(M,{item:t},t._id))),s=0===i.length,a=o,l=`${i.length} result${1==i.length?"":"s"} in view`;return u.jsxs(v,{"data-cy":`CardList-${n}`,sx:{flexDirection:"column",gap:2,padding:2},children:[!a&&u.jsx(O,{}),a&&u.jsxs(u.Fragment,{children:[u.jsxs(v,{sx:{justifyContent:"space-between",paddingX:2,paddingTop:2,fontSize:2},children:[u.jsx(_,{"data-cy":"list-results",children:l}),u.jsxs(v,{sx:{alignItems:"center",gap:1},children:[u.jsx(_,{children:" Most recently active"}),u.jsx(P,{glyph:"arrow-full-down"})]})]}),s&&b,!s&&u.jsx(L,{columnsCountBreakPoints:e||{600:1,1100:2,1600:3},children:u.jsx(x,{children:i})})]})]})};try{w.displayName="CardList",w.__docgenInfo={description:"",displayName:"CardList",props:{columnsCountBreakPoints:{defaultValue:null,description:"",name:"columnsCountBreakPoints",required:!1,type:{name:"{ [key: number]: number; }"}},dataCy:{defaultValue:null,description:"",name:"dataCy",required:!0,type:{name:"string"}},filteredList:{defaultValue:null,description:"",name:"filteredList",required:!0,type:{name:"IMapPin[] | null"}},list:{defaultValue:null,description:"",name:"list",required:!0,type:{name:"IMapPin[]"}}}}}catch{}export{w as C};