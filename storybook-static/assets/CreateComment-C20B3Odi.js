import{j as e}from"./jsx-runtime-CexXSJP5.js";import{M as x}from"./MemberBadge-BFCUvfGJ.js";import{L as h}from"./components-CutHIkdx.js";import{F as o,a as l,b as y,T as c,B as L}from"./theme-ui-components.esm-DCiJ1mMX.js";const u=n=>{const{comment:a,isLoggedIn:r,isReply:t,maxLength:i,onSubmit:s,isLoading:m}=n,d=n.userProfileType||"member",u=n.placeholder||"Leave your questions or feedback...",p=n.buttonLabel??"Leave a comment",g=e=>{n.onChange&&(null==n||n.onChange(e))};return e.jsxs(o,{sx:{flexDirection:"column",gap:3},children:[e.jsxs(o,{"data-target":"create-comment-container",children:[e.jsx(l,{sx:{lineHeight:0,marginTop:2,display:["none","block"]},children:e.jsx(x,{profileType:d,useLowDetailVersion:!0})}),e.jsx(l,{sx:{display:"block",background:"white",flexGrow:1,marginLeft:[2,5],borderRadius:1,position:"relative","&:before":{content:'""',position:"absolute",borderWidth:"1em 1em",borderStyle:"solid",borderColor:"transparent white transparent transparent",margin:"1em -2em"}},children:r?e.jsxs(e.Fragment,{children:[e.jsx(y,{value:a,maxLength:i,onChange:e=>{g&&g(e.target.value)},"aria-label":"Comment","data-cy":t?"reply-form":"comments-form",placeholder:u,sx:{background:"none",resize:"vertical",padding:3,"&:focus":{borderColor:"transparent"}}}),e.jsxs(c,{sx:{fontSize:2,position:"absolute",right:0,bottom:-5,pointerEvents:"none",padding:1},children:[a.length,"/",i]})]}):e.jsx(v,{})})]}),e.jsx(o,{sx:{alignSelf:"flex-end"},children:e.jsx(L,{"data-cy":t?"reply-submit":"comment-submit",disabled:!a.trim()||!r||m,variant:"primary",onClick:()=>{m||s(a)},sx:{marginTop:r?3:0},children:m?"Loading...":p})})]})},v=()=>e.jsx(l,{sx:{padding:[3,4]},children:e.jsxs(c,{"data-cy":"comments-login-prompt",children:["Hi there!"," ",e.jsx(h,{to:"/sign-in",style:{textDecoration:"underline",color:"inherit"},children:"Login"})," ","to leave a comment"]})});try{u.displayName="CreateComment",u.__docgenInfo={description:"",displayName:"CreateComment",props:{maxLength:{defaultValue:null,description:"",name:"maxLength",required:!0,type:{name:"number"}},isLoggedIn:{defaultValue:null,description:"",name:"isLoggedIn",required:!0,type:{name:"boolean"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!1,type:{name:"boolean"}},isReply:{defaultValue:null,description:"",name:"isReply",required:!1,type:{name:"boolean"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"(value: string) => void"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => void"}},comment:{defaultValue:null,description:"",name:"comment",required:!0,type:{name:"string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},userProfileType:{defaultValue:null,description:"",name:"userProfileType",required:!1,type:{name:"enum",value:[{value:'"space"'},{value:'"member"'},{value:'"workspace"'},{value:'"machine-builder"'},{value:'"community-builder"'},{value:'"collection-point"'}]}},buttonLabel:{defaultValue:null,description:"",name:"buttonLabel",required:!1,type:{name:"string"}}}}}catch{}export{u as C};