import{j as e,L,r as T}from"./iframe-Dyks2otr.js";import{s as v}from"./contact-DD4r1-LP.js";import{M as C}from"./MemberBadge-hU4pG4oZ.js";import{F as d,a as r,c as k,T as l,B as w,I as q}from"./theme-ui-components.esm-CrX3Ask8.js";const h=n=>{const t=`${n.to}?returnUrl=${encodeURIComponent(null==location?void 0:location.pathname)}`;return e.jsx(L,{...n,to:t,children:n.children})};h.__docgenInfo={description:"",methods:[],displayName:"ReturnPathLink"};const I=n=>{const[t,i]=T.useState(!1),{comment:o,isLoggedIn:a,isReply:s,maxLength:m,onSubmit:p,isLoading:c}=n,u=n.placeholder||"Leave your questions or feedback...",g=n.buttonLabel??"Leave a comment",h=({parentNode:e,value:t})=>{e.dataset.replicatedValue=t,null==n||n.onChange(t)},x=o.length>0||t;return e.jsxs(d,{"data-target":"create-comment-container",sx:{gap:2},children:[e.jsx(r,{sx:{lineHeight:0,display:["none","block"],flexShrink:0},children:e.jsx(C,{profileType:n.profileType,useLowDetailVersion:!0})}),e.jsxs(r,{sx:{display:"block",background:"white",flex:1,marginLeft:[0,3],borderRadius:1,position:"relative",width:"min-content","&:before":{display:["none","block"],content:'""',position:"absolute",borderWidth:"1em 1em",borderStyle:"solid",borderColor:"transparent white transparent transparent",margin:".5em -2em"}},children:[!a&&e.jsx(S,{}),a&&e.jsxs(d,{sx:{flexDirection:"column"},children:[e.jsx(r,{className:"grow-wrap "+(x?"value-set":""),children:e.jsx(k,{value:o,maxLength:m,onChange:e=>{h&&h(e.target)},"aria-label":"Comment","data-cy":s?"reply-form":"comments-form",placeholder:u,rows:2,sx:{padding:2},onFocus:()=>i(!0),onBlur:()=>i(!1)})}),e.jsxs(l,{sx:{fontSize:1,display:x?"flex":"none",alignSelf:"flex-end",padding:2},children:[o.length,"/",m]})]})]}),e.jsx(d,{sx:{alignSelf:"flex-end",height:["40px","52px"],width:["40px","auto"]},children:e.jsxs(w,{"data-cy":s?"reply-submit":"comment-submit","data-testid":"send-comment-button",disabled:!o.trim()||!a||c,variant:"primary",onClick:()=>{!c&&p(o)},sx:{height:["40px","100%"],width:["40px","auto"],padding:[0,1]},children:[c&&"Loading...",!c&&e.jsxs(e.Fragment,{children:[e.jsx(l,{sx:{display:["none","block"]},children:g}),e.jsx(q,{src:v,sx:{display:["block","none"],width:"22px",margin:"auto"}})]})]})})]})},S=()=>e.jsx(r,{sx:{padding:[3,4]},children:e.jsx(l,{"data-cy":"comments-login-prompt",children:e.jsx(h,{to:"/sign-in",style:{textDecoration:"underline",color:"inherit"},children:"Hi there! Login to leave a comment"})})});I.__docgenInfo={description:"",methods:[],displayName:"CreateComment",props:{maxLength:{required:!0,tsType:{name:"number"},description:""},isLoggedIn:{required:!0,tsType:{name:"boolean"},description:""},isLoading:{required:!1,tsType:{name:"boolean"},description:""},isReply:{required:!1,tsType:{name:"boolean"},description:""},onSubmit:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},comment:{required:!0,tsType:{name:"string"},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},profileType:{required:!1,tsType:{name:"ProfileType"},description:""},buttonLabel:{required:!1,tsType:{name:"string"},description:""}}};export{I as C};