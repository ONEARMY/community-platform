import{j as e,L as T,r as v}from"./iframe-DcRPcggf.js";import{s as C}from"./contact-DD4r1-LP.js";import{M as k}from"./MemberBadge-BpiMkeN7.js";import{F as d,a as i,d as w,T as l,B as q,I}from"./theme-ui-components.esm-BmKkfoQf.js";const h=n=>{const t=`${n.to}?returnUrl=${encodeURIComponent(null==location?void 0:location.pathname)}`;return e.jsx(T,{...n,to:t,children:n.children})};h.__docgenInfo={description:"",methods:[],displayName:"ReturnPathLink"};const S=n=>{const[t,r]=v.useState(!1),{comment:o,isLoggedIn:a,isReply:s,maxLength:m,onSubmit:c,isLoading:p}=n,u=n.userProfileType||"member",g=n.placeholder||"Leave your questions or feedback...",h=n.buttonLabel??"Leave a comment",x=({parentNode:e,value:t})=>{e.dataset.replicatedValue=t,null==n||n.onChange(t)},y=o.length>0||t;return e.jsxs(d,{"data-target":"create-comment-container",sx:{gap:2},children:[e.jsx(i,{sx:{lineHeight:0,display:["none","block"],flexShrink:0},children:e.jsx(k,{profileType:u,useLowDetailVersion:!0})}),e.jsxs(i,{sx:{display:"block",background:"white",flex:1,marginLeft:[0,3],borderRadius:1,position:"relative",width:"min-content","&:before":{display:["none","block"],content:'""',position:"absolute",borderWidth:"1em 1em",borderStyle:"solid",borderColor:"transparent white transparent transparent",margin:".5em -2em"}},children:[!a&&e.jsx(P,{}),a&&e.jsxs(d,{sx:{flexDirection:"column"},children:[e.jsx(i,{className:"grow-wrap "+(y?"value-set":""),children:e.jsx(w,{value:o,maxLength:m,onChange:e=>{x&&x(e.target)},"aria-label":"Comment","data-cy":s?"reply-form":"comments-form",placeholder:g,rows:1,onFocus:()=>r(!0),onBlur:()=>r(!1)})}),e.jsxs(l,{sx:{fontSize:1,display:y?"flex":"none",alignSelf:"flex-end",padding:2},children:[o.length,"/",m]})]})]}),e.jsx(d,{sx:{alignSelf:"flex-end",height:["40px","52px"],width:["40px","auto"]},children:e.jsxs(q,{"data-cy":s?"reply-submit":"comment-submit","data-testid":"send-comment-button",disabled:!o.trim()||!a||p,variant:"primary",onClick:()=>{!p&&c(o)},sx:{height:["40px","100%"],width:["40px","auto"],padding:[0,1]},children:[p&&"Loading...",!p&&e.jsxs(e.Fragment,{children:[e.jsx(l,{sx:{display:["none","block"]},children:h}),e.jsx(I,{src:C,sx:{display:["block","none"],width:"22px",margin:"auto"}})]})]})})]})},P=()=>e.jsx(i,{sx:{padding:[3,4]},children:e.jsx(l,{"data-cy":"comments-login-prompt",children:e.jsx(h,{to:"/sign-in",style:{textDecoration:"underline",color:"inherit"},children:"Hi there! Login to leave a comment"})})});S.__docgenInfo={description:"",methods:[],displayName:"CreateComment",props:{maxLength:{required:!0,tsType:{name:"number"},description:""},isLoggedIn:{required:!0,tsType:{name:"boolean"},description:""},isLoading:{required:!1,tsType:{name:"boolean"},description:""},isReply:{required:!1,tsType:{name:"boolean"},description:""},onSubmit:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},comment:{required:!0,tsType:{name:"string"},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},userProfileType:{required:!1,tsType:{name:"ProfileTypeName"},description:""},buttonLabel:{required:!1,tsType:{name:"string"},description:""}}};export{S as C};