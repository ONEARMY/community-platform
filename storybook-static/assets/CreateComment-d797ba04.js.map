{"version":3,"file":"CreateComment-d797ba04.js","sources":["../../src/CreateComment/CreateComment.tsx"],"sourcesContent":["import { Box, Button, Flex, Text, Textarea } from 'theme-ui'\nimport { Link } from 'react-router-dom'\nimport type { ThemeUIStyleObject } from 'theme-ui'\nimport { MemberBadge } from '../MemberBadge/MemberBadge'\n\nexport interface Props {\n  maxLength: number\n  isLoggedIn: boolean\n  onSubmit: (value: string) => void\n  onChange: (value: string) => void\n  comment: string\n  userProfileType?: string\n  sx?: ThemeUIStyleObject\n}\n\nexport const CreateComment = (props: Props) => {\n  const { comment, maxLength, isLoggedIn } = props\n  const userProfileType = props.userProfileType || 'member'\n  const { onSubmit } = props\n  const onChange = (newValue: string) => {\n    props.onChange && props?.onChange(newValue)\n  }\n\n  return (\n    <>\n      <Flex sx={{ marginBottom: 5 }} data-target=\"create-comment-container\">\n        <Box sx={{ lineHeight: 0, marginTop: 2 }}>\n          <MemberBadge profileType={userProfileType} useLowDetailVersion />\n        </Box>\n        <Box\n          sx={{\n            display: 'block',\n            background: 'white',\n            flexGrow: 1,\n            marginLeft: 5,\n            borderRadius: 1,\n            position: 'relative',\n            '&:before': {\n              content: '\"\"',\n              position: 'absolute',\n              borderWidth: '1em 1em',\n              borderStyle: 'solid',\n              borderColor: 'transparent white transparent transparent',\n              margin: '1em -2em',\n            },\n          }}\n        >\n          {isLoggedIn ? (\n            <>\n              <Textarea\n                value={comment}\n                maxLength={maxLength}\n                onChange={(event) => {\n                  onChange && onChange(event.target.value)\n                }}\n                data-cy=\"comments-form\"\n                placeholder=\"Leave your questions or feedback...\"\n                sx={{\n                  background: 'none',\n                  resize: 'vertical',\n                  padding: 3,\n                  '&:focus': {\n                    borderColor: 'transparent',\n                  },\n                }}\n              />\n              <Text\n                sx={{\n                  fontSize: 2,\n                  position: 'absolute',\n                  right: 0,\n                  bottom: -5,\n                  pointerEvents: 'none',\n                  padding: 1,\n                }}\n              >\n                {comment.length}/{maxLength}\n              </Text>\n            </>\n          ) : (\n            <Box sx={{ padding: [3, 4] }}>\n              <Text data-cy=\"comments-login-prompt\">\n                Hi there!{' '}\n                <Link\n                  to=\"/sign-in\"\n                  style={{\n                    textDecoration: 'underline',\n                    color: 'inherit',\n                  }}\n                >\n                  Login\n                </Link>{' '}\n                to leave a comment\n              </Text>\n            </Box>\n          )}\n        </Box>\n      </Flex>\n      <Button\n        data-cy=\"comment-submit\"\n        disabled={!comment.trim() || !isLoggedIn}\n        variant=\"primary\"\n        onClick={() => onSubmit(comment)}\n        mt={3}\n        sx={{\n          float: 'right',\n        }}\n      >\n        Leave a comment\n      </Button>\n    </>\n  )\n}\n"],"names":["CreateComment","props","comment","maxLength","isLoggedIn","userProfileType","onSubmit","onChange","newValue","jsxs","Fragment","Flex","jsx","Box","MemberBadge","Textarea","event","Text","Link","Button"],"mappings":"mPAeO,MAAAA,EAAAC,GAAA,CACL,KAAA,CAAA,QAAAC,EAAA,UAAAC,EAAA,WAAAC,CAAA,EAAAH,EACAI,EAAAJ,EAAA,iBAAA,SACA,CAAA,SAAAK,CAAA,EAAAL,EACAM,EAAAC,GAAA,CACEP,EAAA,WAAAA,GAAA,MAAAA,EAAA,SAAAO,GAA0C,EAG5C,OAAAC,EAAAC,EAAA,CAAA,SAAA,CAEID,EAAAE,EAAA,CAAA,GAAA,CAAA,aAAA,GAAA,cAAA,2BAAA,SAAA,CACEC,EAAAC,EAAA,CAAA,GAAA,CAAA,WAAA,EAAA,UAAA,CAAA,EAAA,SAAAD,EAAAE,EAAA,CAAA,YAAAT,EAAA,oBAAA,EAAA,CAAA,EAAA,EAEAO,EACAC,EAAC,CAAA,GAAA,CACK,QAAA,QACO,WAAA,QACG,SAAA,EACF,WAAA,EACE,aAAA,EACE,SAAA,WACJ,WAAA,CACE,QAAA,KACD,SAAA,WACC,YAAA,UACG,YAAA,QACA,YAAA,4CACA,OAAA,UACL,CACV,EACF,SAAAT,EAAAK,EAAAC,EAAA,CAAA,SAAA,CAIIE,EAAAG,EAAC,CAAA,MAAAb,EACQ,UAAAC,EACP,SAAAa,GAAA,CAEET,GAAAA,EAAAS,EAAA,OAAA,KAAA,CAAuC,EACzC,UAAA,gBACQ,YAAA,sCACI,GAAA,CACR,WAAA,OACU,OAAA,WACJ,QAAA,EACC,UAAA,CACE,YAAA,aACI,CACf,CACF,CAAA,EACFP,EACAQ,EAAC,CAAA,GAAA,CACK,SAAA,EACQ,SAAA,WACA,MAAA,EACH,OAAA,GACC,cAAA,OACO,QAAA,CACN,EACX,SAAA,CAECf,EAAA,OAAQ,IAAOC,CAAE,CAAA,CAAA,CACpB,CAAA,CAAA,EAAAS,EAAAC,EAAA,CAAA,GAAA,CAAA,QAAA,CAAA,EAAA,CAAA,CAAA,EAAA,SAAAJ,EAAAQ,EAAA,CAAA,UAAA,wBAAA,SAAA,CAIsC,YAAA,IAC1BL,EACVM,EAAC,CAAA,GAAA,WACI,MAAA,CACI,eAAA,YACW,MAAA,SACT,EACT,SAAA,OACD,CAAA,EAED,IAAQ,oBAAI,CAAA,CAAA,CAAA,CAAA,CAGhB,CAAA,CAEJ,EAAA,EACFN,EACAO,EAAC,CAAA,UAAA,iBACS,SAAA,CAAAjB,EAAA,KAAA,GAAA,CAAAE,EACsB,QAAA,UACtB,QAAA,IAAAE,EAAAJ,CAAA,EACuB,GAAA,EAC3B,GAAA,CACA,MAAA,OACK,EACT,SAAA,iBACD,CAAA,CAED,CAAA,CAAA,CAGN"}