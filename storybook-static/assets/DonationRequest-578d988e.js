import{j as t,a as e}from"./jsx-runtime-913be41c.js";import{r as d}from"./index-2506bfc3.js";import{B as w}from"./Button-f228a39f.js";import{E as y}from"./ExternalLink-da92e34d.js";import{C as D,F as o,g as b,b as n}from"./theme-ui-components.esm-600c41e5.js";const c="Support our work",T="Thank you for helping to make this possible",_="Skip this time",E="Download Now!",p=a=>{const{body:u,callback:m,iframeSrc:f,imageURL:x,link:i}=a,[r,g]=d.useState(!1),h={allowpaymentrequest:"allowpaymentrequest",allow:"payment","data-donorbox-id":"DonorBox-f2","data-testid":"donationRequestIframe",frameBorder:"0",name:"donorbox",seamless:!0,src:f},s=l=>{if(l.origin==window.location.origin)switch(l.data){case"CAN_START_FILE_DOWNLOAD":g(!0),window.open(i);break}};return d.useEffect(()=>(window.addEventListener("message",s),()=>window.removeEventListener("message",s)),[]),t(D,{sx:{overflowY:"scroll",scrollbarWidth:"none",msOverflowStyle:"none"},"data-cy":"DonationRequest","data-testid":"DonationRequest",children:[e("script",{src:"https://donorbox.org/widget.js","data-paypalexpress":"false"}),t(o,{sx:{flexDirection:["column","row"]},children:[t(o,{sx:{flexDirection:"column",flex:1},children:[e(o,{sx:{display:["none","inline"]},children:e(b,{loading:"lazy",ratio:16/7,src:x,alt:c,"data-testid":"donationRequestImage"})}),t(n,{sx:{padding:[2,4,6]},children:[e(n,{as:"h1",children:c}),e("p",{children:u}),e("p",{children:T})]})]}),e(o,{sx:{borderLeft:[0,"2px solid"],minHeight:[r?"400px":"650px","650px"],width:["100%","350px","400px"]},children:e("iframe",{...h,loading:"lazy",style:{border:"0",overflow:"scroll",width:"100%"}})})]}),t(o,{sx:{backgroundColor:"offwhite",borderTop:"2px solid",flexDirection:["column","row"],padding:2,gap:2,justifyContent:"flex-end",alignItems:"center"},children:[r&&e(n,{as:"p",sx:{color:"grey",textAlign:"center"},children:"Download hasn't started yet? Tap the button"}),e(y,{href:i,onClick:m,"data-cy":"DonationRequestSkip",children:e(w,{children:r?E:_})})]})]})};try{p.displayName="DonationRequest",p.__docgenInfo={description:"",displayName:"DonationRequest",props:{body:{defaultValue:null,description:"",name:"body",required:!0,type:{name:"string"}},callback:{defaultValue:null,description:"",name:"callback",required:!0,type:{name:"() => void"}},iframeSrc:{defaultValue:null,description:"",name:"iframeSrc",required:!0,type:{name:"string"}},imageURL:{defaultValue:null,description:"",name:"imageURL",required:!0,type:{name:"string"}},link:{defaultValue:null,description:"",name:"link",required:!0,type:{name:"string"}}}}}catch{}export{p as D};
//# sourceMappingURL=DonationRequest-578d988e.js.map
