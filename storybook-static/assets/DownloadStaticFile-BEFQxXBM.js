import{j as e}from"./jsx-runtime-CexXSJP5.js";import{D as m}from"./DownloadButton-HmxAXtXE.js";import{E as p}from"./ExternalLink-D9uHqDtY.js";import{I as f}from"./Icon-DM42TQFs.js";import{T as g}from"./Tooltip-D2MhMGZV.js";import{F as w,T as r}from"./theme-ui-components.esm-Cq1N8tMa.js";const x=o=>{const{name:n,glyph:i,size:l,redirectToSignIn:t}=o;return e.jsxs(e.Fragment,{children:[e.jsxs(w,{sx:{borderRadius:1,border:"2px solid black",background:"accent.base",color:"black",justifyContent:"space-between",alignItems:"center",flexDirection:"row",width:"300px",cursor:"pointer",padding:2,marginBottom:1},onClick:()=>t&&t(),"data-tooltip-id":"login-download","data-tooltip-content":t?"Login to download":"",children:[e.jsx(f,{size:24,glyph:i,mr:3}),e.jsx(r,{sx:{flex:1,fontSize:1,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",marginRight:3},children:n}),e.jsx(r,{sx:{fontSize:1},children:l})]}),e.jsx(g,{id:"login-download"})]})},d=o=>{const{file:n,fileDownloadCount:i,allowDownload:l,handleClick:t,redirectToSignIn:a,isLoggedIn:r}=o,d=h(n.size||0);if(!n)return null;const s=l&&n.url&&!a;return e.jsxs(e.Fragment,{children:[s&&e.jsx(p,{onClick:()=>t&&t(),href:n.url,download:n.name,sx:{width:"300px",marginLeft:0,marginRight:1},children:e.jsx(x,{name:n.name,glyph:"download-cloud",size:d})}),e.jsx(m,{fileDownloadCount:i,glyph:"download-cloud",isLoggedIn:r,label:`${n.name} (${d})`,onClick:()=>t&&t()})]})},h=e=>{if(0===e)return"0 Bytes";const o=Number(Math.floor(Math.log(e)/Math.log(1024)));return(e/Math.pow(1024,o)).toPrecision(3)+" "+["Bytes","KB","MB","GB","TB"][o]};try{d.displayName="DownloadStaticFile",d.__docgenInfo={description:"",displayName:"DownloadStaticFile",props:{file:{defaultValue:null,description:"",name:"file",required:!0,type:{name:"MediaFile"}},fileDownloadCount:{defaultValue:null,description:"",name:"fileDownloadCount",required:!1,type:{name:"number"}},forDonationRequest:{defaultValue:null,description:"",name:"forDonationRequest",required:!1,type:{name:"boolean"}},isLoggedIn:{defaultValue:null,description:"",name:"isLoggedIn",required:!1,type:{name:"boolean"}},allowDownload:{defaultValue:null,description:"",name:"allowDownload",required:!1,type:{name:"boolean"}},handleClick:{defaultValue:null,description:"",name:"handleClick",required:!1,type:{name:"(() => void)"}},redirectToSignIn:{defaultValue:null,description:"",name:"redirectToSignIn",required:!1,type:{name:"(() => Promise<void>)"}}}}}catch{}export{d as D};