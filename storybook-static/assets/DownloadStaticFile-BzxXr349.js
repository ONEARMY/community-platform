import{j as o}from"./jsx-runtime-CexXSJP5.js";import{D as p}from"./DownloadButton-Crc7VK1n.js";import{E as m}from"./ExternalLink-DFvpNOKB.js";import{I as f}from"./Icon-QQOudn0t.js";import{T as w}from"./Tooltip-B29JjCvL.js";import{F as x,T as s}from"./theme-ui-components.esm-D5Q63Fx1.js";const d=e=>{const{file:n,glyph:i,size:l,redirectToSignIn:r}=e;return o.jsxs(o.Fragment,{children:[o.jsxs(x,{p:2,mb:1,sx:{borderRadius:1,border:"2px solid black",background:"accent.base",color:"black",justifyContent:"space-between",alignItems:"center",flexDirection:"row",width:"300px",cursor:"pointer"},onClick:()=>r&&r(),"data-tip":r?"Login to download":"",children:[o.jsx(f,{size:24,glyph:i,mr:3}),o.jsx(s,{sx:{flex:1,fontSize:1,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},mr:3,children:n.name}),o.jsx(s,{sx:{fontSize:1},children:l})]}),o.jsx(w,{})]})},c=({file:e,allowDownload:n,handleClick:i,redirectToSignIn:l,forDonationRequest:r,isLoggedIn:t})=>{const a=g(e.size||0);if(!e)return null;const s=n&&e.downloadUrl&&!l;return o.jsxs(o.Fragment,{children:[s&&o.jsx(m,{m:1,onClick:()=>i&&i(),href:e.downloadUrl,download:e.name,style:{width:"300px",marginLeft:0},children:o.jsx(d,{file:e,glyph:"download-cloud",size:a})}),r&&o.jsx(p,{onClick:()=>i&&i(),isLoggedIn:t,label:`${e.name} (${a})`,glyph:"download-cloud"}),!s&&!r&&o.jsx(d,{file:e,glyph:"download-cloud",size:a,redirectToSignIn:l})]})},g=e=>{if(0===e)return"0 Bytes";const o=Number(Math.floor(Math.log(e)/Math.log(1024)));return(e/Math.pow(1024,o)).toPrecision(3)+" "+["Bytes","KB","MB","GB","TB"][o]};try{c.displayName="DownloadStaticFile",c.__docgenInfo={description:"",displayName:"DownloadStaticFile",props:{file:{defaultValue:null,description:"",name:"file",required:!0,type:{name:"{ name: string; size: number; downloadUrl?: string | undefined; }"}},forDonationRequest:{defaultValue:null,description:"",name:"forDonationRequest",required:!1,type:{name:"boolean"}},isLoggedIn:{defaultValue:null,description:"",name:"isLoggedIn",required:!1,type:{name:"boolean"}},allowDownload:{defaultValue:null,description:"",name:"allowDownload",required:!1,type:{name:"boolean"}},handleClick:{defaultValue:null,description:"",name:"handleClick",required:!1,type:{name:"(() => void)"}},redirectToSignIn:{defaultValue:null,description:"",name:"redirectToSignIn",required:!1,type:{name:"(() => Promise<void>)"}}}}}catch{}export{c as D};