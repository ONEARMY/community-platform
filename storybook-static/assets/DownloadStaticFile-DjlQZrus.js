import{j as e}from"./jsx-runtime-CexXSJP5.js";import{D as m}from"./DownloadButton-BbaPUMon.js";import{E as p}from"./ExternalLink-D9uHqDtY.js";import{I as f}from"./Icon-DLnqrlV2.js";import{T as w}from"./Tooltip-BFRbExEK.js";import{F as g,T as r}from"./theme-ui-components.esm-Cq1N8tMa.js";const x=o=>{const{file:n,glyph:l,size:i,redirectToSignIn:t}=o;return e.jsxs(e.Fragment,{children:[e.jsxs(g,{p:2,mb:1,sx:{borderRadius:1,border:"2px solid black",background:"accent.base",color:"black",justifyContent:"space-between",alignItems:"center",flexDirection:"row",width:"300px",cursor:"pointer"},onClick:()=>t&&t(),"data-tooltip-id":"login-download","data-tooltip-content":t?"Login to download":"",children:[e.jsx(f,{size:24,glyph:l,mr:3}),e.jsx(r,{sx:{flex:1,fontSize:1,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},mr:3,children:n.name}),e.jsx(r,{sx:{fontSize:1},children:i})]}),e.jsx(w,{id:"login-download"})]})},d=o=>{const{file:n,fileDownloadCount:l,allowDownload:i,handleClick:t,redirectToSignIn:a,isLoggedIn:r}=o,d=h(n.size||0);if(!n)return null;const s=i&&n.downloadUrl&&!a;return e.jsxs(e.Fragment,{children:[s&&e.jsx(p,{m:1,onClick:()=>t&&t(),href:n.downloadUrl,download:n.name,style:{width:"300px",marginLeft:0},children:e.jsx(x,{file:n,glyph:"download-cloud",size:d})}),e.jsx(m,{fileDownloadCount:l,glyph:"download-cloud",isLoggedIn:r,label:`${n.name} (${d})`,onClick:()=>t&&t()})]})},h=e=>{if(0===e)return"0 Bytes";const o=Number(Math.floor(Math.log(e)/Math.log(1024)));return(e/Math.pow(1024,o)).toPrecision(3)+" "+["Bytes","KB","MB","GB","TB"][o]};try{d.displayName="DownloadStaticFile",d.__docgenInfo={description:"",displayName:"DownloadStaticFile",props:{file:{defaultValue:null,description:"",name:"file",required:!0,type:{name:"{ name: string; size: number; downloadUrl?: string | undefined; }"}},fileDownloadCount:{defaultValue:null,description:"",name:"fileDownloadCount",required:!1,type:{name:"number"}},forDonationRequest:{defaultValue:null,description:"",name:"forDonationRequest",required:!1,type:{name:"boolean"}},isLoggedIn:{defaultValue:null,description:"",name:"isLoggedIn",required:!1,type:{name:"boolean"}},allowDownload:{defaultValue:null,description:"",name:"allowDownload",required:!1,type:{name:"boolean"}},handleClick:{defaultValue:null,description:"",name:"handleClick",required:!1,type:{name:"(() => void)"}},redirectToSignIn:{defaultValue:null,description:"",name:"redirectToSignIn",required:!1,type:{name:"(() => Promise<void>)"}}}}}catch{}export{d as D};