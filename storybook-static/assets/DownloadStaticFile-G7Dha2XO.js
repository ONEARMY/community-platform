import{j as o}from"./jsx-runtime-CexXSJP5.js";import{D as u}from"./DownloadButton-CrjVymWP.js";import{E as m}from"./ExternalLink-CHmx7fZ7.js";import{I as f}from"./Icon-Djd0eHWm.js";import{T as w}from"./Tooltip-B9mgSRkZ.js";import{F as x,T as d}from"./theme-ui-components.esm-DCiJ1mMX.js";const s=e=>{const{file:n,glyph:i,size:l,redirectToSignIn:t}=e;return o.jsxs(o.Fragment,{children:[o.jsxs(x,{p:2,mb:1,sx:{borderRadius:1,border:"2px solid black",background:"accent.base",color:"black",justifyContent:"space-between",alignItems:"center",flexDirection:"row",width:"300px",cursor:"pointer"},onClick:()=>t&&t(),"data-tooltip-id":"login-download","data-tooltip-content":t?"Login to download":"",children:[o.jsx(f,{size:24,glyph:i,mr:3}),o.jsx(d,{sx:{flex:1,fontSize:1,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},mr:3,children:n.name}),o.jsx(d,{sx:{fontSize:1},children:l})]}),o.jsx(w,{id:"login-download"})]})},c=({file:e,allowDownload:n,handleClick:i,redirectToSignIn:l,forDonationRequest:t,isLoggedIn:r})=>{const a=g(e.size||0);if(!e)return null;const d=n&&e.downloadUrl&&!l;return o.jsxs(o.Fragment,{children:[d&&o.jsx(m,{m:1,onClick:()=>i&&i(),href:e.downloadUrl,download:e.name,style:{width:"300px",marginLeft:0},children:o.jsx(s,{file:e,glyph:"download-cloud",size:a})}),t&&o.jsx(u,{onClick:()=>i&&i(),isLoggedIn:r,label:`${e.name} (${a})`,glyph:"download-cloud"}),!d&&!t&&o.jsx(s,{file:e,glyph:"download-cloud",size:a,redirectToSignIn:l})]})},g=e=>{if(0===e)return"0 Bytes";const o=Number(Math.floor(Math.log(e)/Math.log(1024)));return(e/Math.pow(1024,o)).toPrecision(3)+" "+["Bytes","KB","MB","GB","TB"][o]};try{c.displayName="DownloadStaticFile",c.__docgenInfo={description:"",displayName:"DownloadStaticFile",props:{file:{defaultValue:null,description:"",name:"file",required:!0,type:{name:"{ name: string; size: number; downloadUrl?: string | undefined; }"}},forDonationRequest:{defaultValue:null,description:"",name:"forDonationRequest",required:!1,type:{name:"boolean"}},isLoggedIn:{defaultValue:null,description:"",name:"isLoggedIn",required:!1,type:{name:"boolean"}},allowDownload:{defaultValue:null,description:"",name:"allowDownload",required:!1,type:{name:"boolean"}},handleClick:{defaultValue:null,description:"",name:"handleClick",required:!1,type:{name:"(() => void)"}},redirectToSignIn:{defaultValue:null,description:"",name:"redirectToSignIn",required:!1,type:{name:"(() => Promise<void>)"}}}}}catch{}export{c as D};