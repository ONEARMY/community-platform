import{r as d,j as e}from"./iframe-DjDkPjnD.js";import{D as y}from"./DonationRequestModal-D6_f66i7.js";import{D as w}from"./DownloadButton-SRIf-FUJ.js";import{D as k}from"./DownloadCounter-C1tjgPf7.js";import{D as h}from"./DownloadStaticFile-CdjgkycQ.js";import{F as j}from"./theme-ui-components.esm-CmvYgbc6.js";const q=i=>{const{body:n,iframeSrc:o,imageURL:r,handleClick:s,fileLink:t,files:a,openModel:m=!1}=i,[l,p]=d.useState(m),[c,u]=d.useState(""),f=()=>p(!l);return e.jsxs(e.Fragment,{children:[e.jsx(y,{body:n,callback:()=>{f(),s&&s()},iframeSrc:o,imageURL:r,isOpen:l,link:c,onDidDismiss:()=>f()}),e.jsxs(e.Fragment,{children:[t&&e.jsx(w,{isLoggedIn:!0,onClick:()=>{u(t),f()}}),a&&e.jsx(j,{sx:{flexDirection:"column",gap:2},children:a.map(((n,o)=>e.jsx(h,{file:n,fileDownloadCount:i.fileDownloadCount,handleClick:()=>{u(n.url),f()},isLoggedIn:!0},n?n.url:`file-${o}`)))}),e.jsx(k,{total:i.fileDownloadCount})]})]})};q.__docgenInfo={description:"",methods:[],displayName:"DownloadWithDonationAsk",props:{body:{required:!0,tsType:{name:"string"},description:""},handleClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},iframeSrc:{required:!0,tsType:{name:"string"},description:""},imageURL:{required:!0,tsType:{name:"string"},description:""},fileDownloadCount:{required:!0,tsType:{name:"number"},description:""},fileLink:{required:!1,tsType:{name:"string"},description:""},files:{required:!1,tsType:{name:"Array",elements:[{name:"MediaFile"}],raw:"MediaFile[]"},description:""},openModel:{required:!1,tsType:{name:"boolean"},description:""}}};export{q as D};