import{r as d,j as e}from"./iframe-j_6YuRzc.js";import{D as y}from"./DonationRequestModal-DfiLhb6-.js";import{D as w}from"./DownloadButton-C6MGsceG.js";import{D as k}from"./DownloadCounter-DXjwmR--.js";import{D as h}from"./DownloadStaticFile-B49M-mLr.js";import{F as j}from"./theme-ui-components.esm-mV54gw_h.js";const q=i=>{const{body:o,iframeSrc:n,imageURL:r,handleClick:s,fileLink:t,files:a,openModel:m=!1}=i,[l,p]=d.useState(m),[c,u]=d.useState(""),f=()=>p(!l);return e.jsxs(e.Fragment,{children:[e.jsx(y,{body:o,callback:()=>{f(),s&&s()},iframeSrc:n,imageURL:r,isOpen:l,link:c,onDidDismiss:()=>f()}),e.jsxs(e.Fragment,{children:[t&&e.jsx(w,{isLoggedIn:!0,onClick:()=>{u(t),f()}}),a&&e.jsx(j,{sx:{flexDirection:"column",gap:2},children:a.map(((o,n)=>e.jsx(h,{file:o,fileDownloadCount:i.fileDownloadCount,handleClick:()=>{u(o.url),f()},isLoggedIn:!0},o?o.url:`file-${n}`)))}),e.jsx(k,{total:i.fileDownloadCount})]})]})};q.__docgenInfo={description:"",methods:[],displayName:"DownloadWithDonationAsk",props:{body:{required:!0,tsType:{name:"string"},description:""},handleClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},iframeSrc:{required:!0,tsType:{name:"string"},description:""},imageURL:{required:!0,tsType:{name:"string"},description:""},fileDownloadCount:{required:!0,tsType:{name:"number"},description:""},fileLink:{required:!1,tsType:{name:"string"},description:""},files:{required:!1,tsType:{name:"Array",elements:[{name:"MediaFile"}],raw:"MediaFile[]"},description:""},openModel:{required:!1,tsType:{name:"boolean"},description:""}}};export{q as D};