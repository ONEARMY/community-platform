import{j as e}from"./jsx-runtime-CexXSJP5.js";import{r as u}from"./index-BP8_t0zE.js";import{D as q}from"./DonationRequestModal-CjDXcRmo.js";import{D as m}from"./DownloadButton-cOIR1TMk.js";import{D as C}from"./DownloadCounter-CpsPmH8s.js";import{D as I}from"./DownloadStaticFile-D68Rho15.js";import{u as j}from"./index-BXxqJQdV.js";const p=i=>{const{body:n,iframeSrc:l,imageURL:o,isLoggedIn:a,handleClick:t,fileDownloadCount:r,fileLink:s,files:d}=i,[p,f]=u.useState(!1),[c,g]=u.useState(""),D=j(),y=()=>f(!p),k=null==d?void 0:d.filter((e=>null!==e&&"downloadUrl"in e));return e.jsxs(e.Fragment,{children:[e.jsx(q,{body:n,callback:()=>{t(),y()},iframeSrc:l,imageURL:o,isOpen:p,link:c,onDidDismiss:()=>y()}),!a&&e.jsx(m,{onClick:()=>D("/sign-in"),isLoggedIn:!1}),a&&e.jsxs(e.Fragment,{children:[s&&e.jsx(m,{onClick:()=>{g(s),y()},isLoggedIn:!0}),k&&k.map(((i,n)=>e.jsx(I,{file:i,handleClick:()=>{g(i.downloadUrl),y()},forDonationRequest:!0,isLoggedIn:!0},i?i.name:`file-${n}`)))]}),e.jsx(C,{total:r})]})};try{p.displayName="DownloadWithDonationAsk",p.__docgenInfo={description:"",displayName:"DownloadWithDonationAsk",props:{body:{defaultValue:null,description:"",name:"body",required:!0,type:{name:"string"}},handleClick:{defaultValue:null,description:"",name:"handleClick",required:!0,type:{name:"() => Promise<void>"}},iframeSrc:{defaultValue:null,description:"",name:"iframeSrc",required:!0,type:{name:"string"}},imageURL:{defaultValue:null,description:"",name:"imageURL",required:!0,type:{name:"string"}},isLoggedIn:{defaultValue:null,description:"",name:"isLoggedIn",required:!0,type:{name:"boolean"}},fileDownloadCount:{defaultValue:null,description:"",name:"fileDownloadCount",required:!0,type:{name:"number"}},fileLink:{defaultValue:null,description:"",name:"fileLink",required:!1,type:{name:"string"}},files:{defaultValue:null,description:"",name:"files",required:!1,type:{name:"(IUploadedFileMeta | File | null)[]"}}}}}catch{}export{p as D};