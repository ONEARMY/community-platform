{"version":3,"file":"ImageCrop-154f830b.js","sources":["../../../../node_modules/react-image-crop/dist/index.js","../../src/ImageCrop/canvasPreview.ts","../../src/ImageCrop/centerAspectCrop.ts","../../src/ImageCrop/useDebounceEffect.ts","../../src/ImageCrop/ImageCrop.tsx"],"sourcesContent":["import p, { PureComponent as k, createRef as E } from \"react\";\nconst M = {\n  x: 0,\n  y: 0,\n  width: 0,\n  height: 0,\n  unit: \"px\"\n}, v = (o, e, t) => Math.min(Math.max(o, e), t), S = (...o) => o.filter((e) => e && typeof e == \"string\").join(\" \"), Y = (o, e) => o === e || o.width === e.width && o.height === e.height && o.x === e.x && o.y === e.y && o.unit === e.unit;\nfunction H(o, e, t, h) {\n  const i = y(o, t, h);\n  return o.width && (i.height = i.width / e), o.height && (i.width = i.height * e), i.y + i.height > h && (i.height = h - i.y, i.width = i.height * e), i.x + i.width > t && (i.width = t - i.x, i.height = i.width / e), o.unit === \"%\" ? D(i, t, h) : i;\n}\nfunction I(o, e, t) {\n  const h = y(o, e, t);\n  return h.x = (e - h.width) / 2, h.y = (t - h.height) / 2, o.unit === \"%\" ? D(h, e, t) : h;\n}\nfunction D(o, e, t) {\n  return o.unit === \"%\" ? { ...M, ...o, unit: \"%\" } : {\n    unit: \"%\",\n    x: o.x ? o.x / e * 100 : 0,\n    y: o.y ? o.y / t * 100 : 0,\n    width: o.width ? o.width / e * 100 : 0,\n    height: o.height ? o.height / t * 100 : 0\n  };\n}\nfunction y(o, e, t) {\n  return o.unit ? o.unit === \"px\" ? { ...M, ...o, unit: \"px\" } : {\n    unit: \"px\",\n    x: o.x ? o.x * e / 100 : 0,\n    y: o.y ? o.y * t / 100 : 0,\n    width: o.width ? o.width * e / 100 : 0,\n    height: o.height ? o.height * t / 100 : 0\n  } : { ...M, ...o, unit: \"px\" };\n}\nfunction P(o, e, t, h, i, n = 0, s = 0, w = h, a = i) {\n  const r = { ...o };\n  let c = Math.min(n, h), d = Math.min(s, i), g = Math.min(w, h), l = Math.min(a, i);\n  e && (e > 1 ? (c = s ? s * e : c, d = c / e, g = w * e) : (d = n ? n / e : d, c = d * e, l = a / e)), r.y < 0 && (r.height = Math.max(r.height + r.y, d), r.y = 0), r.x < 0 && (r.width = Math.max(r.width + r.x, c), r.x = 0);\n  const m = h - (r.x + r.width);\n  m < 0 && (r.x = Math.min(r.x, h - c), r.width += m);\n  const x = i - (r.y + r.height);\n  if (x < 0 && (r.y = Math.min(r.y, i - d), r.height += x), r.width < c && ((t === \"sw\" || t == \"nw\") && (r.x -= c - r.width), r.width = c), r.height < d && ((t === \"nw\" || t == \"ne\") && (r.y -= d - r.height), r.height = d), r.width > g && ((t === \"sw\" || t == \"nw\") && (r.x -= g - r.width), r.width = g), r.height > l && ((t === \"nw\" || t == \"ne\") && (r.y -= l - r.height), r.height = l), e) {\n    const b = r.width / r.height;\n    if (b < e) {\n      const C = Math.max(r.width / e, d);\n      (t === \"nw\" || t == \"ne\") && (r.y -= C - r.height), r.height = C;\n    } else if (b > e) {\n      const C = Math.max(r.height * e, c);\n      (t === \"sw\" || t == \"nw\") && (r.x -= C - r.width), r.width = C;\n    }\n  }\n  return r;\n}\nfunction _(o, e, t, h) {\n  const i = { ...o };\n  return e === \"ArrowLeft\" ? h === \"nw\" ? (i.x -= t, i.y -= t, i.width += t, i.height += t) : h === \"w\" ? (i.x -= t, i.width += t) : h === \"sw\" ? (i.x -= t, i.width += t, i.height += t) : h === \"ne\" ? (i.y += t, i.width -= t, i.height -= t) : h === \"e\" ? i.width -= t : h === \"se\" && (i.width -= t, i.height -= t) : e === \"ArrowRight\" && (h === \"nw\" ? (i.x += t, i.y += t, i.width -= t, i.height -= t) : h === \"w\" ? (i.x += t, i.width -= t) : h === \"sw\" ? (i.x += t, i.width -= t, i.height -= t) : h === \"ne\" ? (i.y -= t, i.width += t, i.height += t) : h === \"e\" ? i.width += t : h === \"se\" && (i.width += t, i.height += t)), e === \"ArrowUp\" ? h === \"nw\" ? (i.x -= t, i.y -= t, i.width += t, i.height += t) : h === \"n\" ? (i.y -= t, i.height += t) : h === \"ne\" ? (i.y -= t, i.width += t, i.height += t) : h === \"sw\" ? (i.x += t, i.width -= t, i.height -= t) : h === \"s\" ? i.height -= t : h === \"se\" && (i.width -= t, i.height -= t) : e === \"ArrowDown\" && (h === \"nw\" ? (i.x += t, i.y += t, i.width -= t, i.height -= t) : h === \"n\" ? (i.y += t, i.height -= t) : h === \"ne\" ? (i.y += t, i.width -= t, i.height -= t) : h === \"sw\" ? (i.x -= t, i.width += t, i.height += t) : h === \"s\" ? i.height += t : h === \"se\" && (i.width += t, i.height += t)), i;\n}\nconst f = { capture: !0, passive: !1 };\nlet $ = 0;\nconst u = class u extends k {\n  constructor() {\n    super(...arguments), this.docMoveBound = !1, this.mouseDownOnCrop = !1, this.dragStarted = !1, this.evData = {\n      startClientX: 0,\n      startClientY: 0,\n      startCropX: 0,\n      startCropY: 0,\n      clientX: 0,\n      clientY: 0,\n      isResize: !0\n    }, this.componentRef = E(), this.mediaRef = E(), this.initChangeCalled = !1, this.instanceId = `rc-${$++}`, this.state = {\n      cropIsActive: !1,\n      newCropIsBeingDrawn: !1\n    }, this.onCropPointerDown = (e) => {\n      const { crop: t, disabled: h } = this.props, i = this.getBox();\n      if (!t)\n        return;\n      const n = y(t, i.width, i.height);\n      if (h)\n        return;\n      e.cancelable && e.preventDefault(), this.bindDocMove(), this.componentRef.current.focus({ preventScroll: !0 });\n      const s = e.target.dataset.ord, w = !!s;\n      let a = e.clientX, r = e.clientY, c = n.x, d = n.y;\n      if (s) {\n        const g = e.clientX - i.x, l = e.clientY - i.y;\n        let m = 0, x = 0;\n        s === \"ne\" || s == \"e\" ? (m = g - (n.x + n.width), x = l - n.y, c = n.x, d = n.y + n.height) : s === \"se\" || s === \"s\" ? (m = g - (n.x + n.width), x = l - (n.y + n.height), c = n.x, d = n.y) : s === \"sw\" || s == \"w\" ? (m = g - n.x, x = l - (n.y + n.height), c = n.x + n.width, d = n.y) : (s === \"nw\" || s == \"n\") && (m = g - n.x, x = l - n.y, c = n.x + n.width, d = n.y + n.height), a = c + i.x + m, r = d + i.y + x;\n      }\n      this.evData = {\n        startClientX: a,\n        startClientY: r,\n        startCropX: c,\n        startCropY: d,\n        clientX: e.clientX,\n        clientY: e.clientY,\n        isResize: w,\n        ord: s\n      }, this.mouseDownOnCrop = !0, this.setState({ cropIsActive: !0 });\n    }, this.onComponentPointerDown = (e) => {\n      const { crop: t, disabled: h, locked: i, keepSelection: n, onChange: s } = this.props, w = this.getBox();\n      if (h || i || n && t)\n        return;\n      e.cancelable && e.preventDefault(), this.bindDocMove(), this.componentRef.current.focus({ preventScroll: !0 });\n      const a = e.clientX - w.x, r = e.clientY - w.y, c = {\n        unit: \"px\",\n        x: a,\n        y: r,\n        width: 0,\n        height: 0\n      };\n      this.evData = {\n        startClientX: e.clientX,\n        startClientY: e.clientY,\n        startCropX: a,\n        startCropY: r,\n        clientX: e.clientX,\n        clientY: e.clientY,\n        isResize: !0\n      }, this.mouseDownOnCrop = !0, s(y(c, w.width, w.height), D(c, w.width, w.height)), this.setState({ cropIsActive: !0, newCropIsBeingDrawn: !0 });\n    }, this.onDocPointerMove = (e) => {\n      const { crop: t, disabled: h, onChange: i, onDragStart: n } = this.props, s = this.getBox();\n      if (h || !t || !this.mouseDownOnCrop)\n        return;\n      e.cancelable && e.preventDefault(), this.dragStarted || (this.dragStarted = !0, n && n(e));\n      const { evData: w } = this;\n      w.clientX = e.clientX, w.clientY = e.clientY;\n      let a;\n      w.isResize ? a = this.resizeCrop() : a = this.dragCrop(), Y(t, a) || i(\n        y(a, s.width, s.height),\n        D(a, s.width, s.height)\n      );\n    }, this.onComponentKeyDown = (e) => {\n      const { crop: t, disabled: h, onChange: i, onComplete: n } = this.props;\n      if (h)\n        return;\n      const s = e.key;\n      let w = !1;\n      if (!t)\n        return;\n      const a = this.getBox(), r = this.makePixelCrop(a), d = (navigator.platform.match(\"Mac\") ? e.metaKey : e.ctrlKey) ? u.nudgeStepLarge : e.shiftKey ? u.nudgeStepMedium : u.nudgeStep;\n      if (s === \"ArrowLeft\" ? (r.x -= d, w = !0) : s === \"ArrowRight\" ? (r.x += d, w = !0) : s === \"ArrowUp\" ? (r.y -= d, w = !0) : s === \"ArrowDown\" && (r.y += d, w = !0), w) {\n        e.cancelable && e.preventDefault(), r.x = v(r.x, 0, a.width - r.width), r.y = v(r.y, 0, a.height - r.height);\n        const g = y(r, a.width, a.height), l = D(r, a.width, a.height);\n        i(g, l), n && n(g, l);\n      }\n    }, this.onHandlerKeyDown = (e, t) => {\n      const {\n        aspect: h = 0,\n        crop: i,\n        disabled: n,\n        minWidth: s = 0,\n        minHeight: w = 0,\n        maxWidth: a,\n        maxHeight: r,\n        onChange: c,\n        onComplete: d\n      } = this.props, g = this.getBox();\n      if (n || !i)\n        return;\n      if (e.key === \"ArrowUp\" || e.key === \"ArrowDown\" || e.key === \"ArrowLeft\" || e.key === \"ArrowRight\")\n        e.stopPropagation(), e.preventDefault();\n      else\n        return;\n      const m = (navigator.platform.match(\"Mac\") ? e.metaKey : e.ctrlKey) ? u.nudgeStepLarge : e.shiftKey ? u.nudgeStepMedium : u.nudgeStep, x = y(i, g.width, g.height), b = _(x, e.key, m, t), C = P(\n        b,\n        h,\n        t,\n        g.width,\n        g.height,\n        s,\n        w,\n        a,\n        r\n      );\n      if (!Y(i, C)) {\n        const R = D(C, g.width, g.height);\n        c(C, R), d && d(C, R);\n      }\n    }, this.onDocPointerDone = (e) => {\n      const { crop: t, disabled: h, onComplete: i, onDragEnd: n } = this.props, s = this.getBox();\n      this.unbindDocMove(), !(h || !t) && this.mouseDownOnCrop && (this.mouseDownOnCrop = !1, this.dragStarted = !1, n && n(e), i && i(y(t, s.width, s.height), D(t, s.width, s.height)), this.setState({ cropIsActive: !1, newCropIsBeingDrawn: !1 }));\n    }, this.onDragFocus = () => {\n      var e;\n      (e = this.componentRef.current) == null || e.scrollTo(0, 0);\n    };\n  }\n  get document() {\n    return document;\n  }\n  // We unfortunately get the bounding box every time as x+y changes\n  // due to scrolling.\n  getBox() {\n    const e = this.mediaRef.current;\n    if (!e)\n      return { x: 0, y: 0, width: 0, height: 0 };\n    const { x: t, y: h, width: i, height: n } = e.getBoundingClientRect();\n    return { x: t, y: h, width: i, height: n };\n  }\n  componentDidUpdate(e) {\n    const { crop: t, onComplete: h } = this.props;\n    if (h && !e.crop && t) {\n      const { width: i, height: n } = this.getBox();\n      i && n && h(y(t, i, n), D(t, i, n));\n    }\n  }\n  componentWillUnmount() {\n    this.resizeObserver && this.resizeObserver.disconnect();\n  }\n  bindDocMove() {\n    this.docMoveBound || (this.document.addEventListener(\"pointermove\", this.onDocPointerMove, f), this.document.addEventListener(\"pointerup\", this.onDocPointerDone, f), this.document.addEventListener(\"pointercancel\", this.onDocPointerDone, f), this.docMoveBound = !0);\n  }\n  unbindDocMove() {\n    this.docMoveBound && (this.document.removeEventListener(\"pointermove\", this.onDocPointerMove, f), this.document.removeEventListener(\"pointerup\", this.onDocPointerDone, f), this.document.removeEventListener(\"pointercancel\", this.onDocPointerDone, f), this.docMoveBound = !1);\n  }\n  getCropStyle() {\n    const { crop: e } = this.props;\n    if (e)\n      return {\n        top: `${e.y}${e.unit}`,\n        left: `${e.x}${e.unit}`,\n        width: `${e.width}${e.unit}`,\n        height: `${e.height}${e.unit}`\n      };\n  }\n  dragCrop() {\n    const { evData: e } = this, t = this.getBox(), h = this.makePixelCrop(t), i = e.clientX - e.startClientX, n = e.clientY - e.startClientY;\n    return h.x = v(e.startCropX + i, 0, t.width - h.width), h.y = v(e.startCropY + n, 0, t.height - h.height), h;\n  }\n  getPointRegion(e, t, h, i) {\n    const { evData: n } = this, s = n.clientX - e.x, w = n.clientY - e.y;\n    let a;\n    i && t ? a = t === \"nw\" || t === \"n\" || t === \"ne\" : a = w < n.startCropY;\n    let r;\n    return h && t ? r = t === \"nw\" || t === \"w\" || t === \"sw\" : r = s < n.startCropX, r ? a ? \"nw\" : \"sw\" : a ? \"ne\" : \"se\";\n  }\n  resolveMinDimensions(e, t, h = 0, i = 0) {\n    const n = Math.min(h, e.width), s = Math.min(i, e.height);\n    return !t || !n && !s ? [n, s] : t > 1 ? n ? [n, n / t] : [s * t, s] : s ? [s * t, s] : [n, n / t];\n  }\n  resizeCrop() {\n    const { evData: e } = this, { aspect: t = 0, maxWidth: h, maxHeight: i } = this.props, n = this.getBox(), [s, w] = this.resolveMinDimensions(n, t, this.props.minWidth, this.props.minHeight);\n    let a = this.makePixelCrop(n);\n    const r = this.getPointRegion(n, e.ord, s, w), c = e.ord || r;\n    let d = e.clientX - e.startClientX, g = e.clientY - e.startClientY;\n    (s && c === \"nw\" || c === \"w\" || c === \"sw\") && (d = Math.min(d, -s)), (w && c === \"nw\" || c === \"n\" || c === \"ne\") && (g = Math.min(g, -w));\n    const l = {\n      unit: \"px\",\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    };\n    r === \"ne\" ? (l.x = e.startCropX, l.width = d, t ? (l.height = l.width / t, l.y = e.startCropY - l.height) : (l.height = Math.abs(g), l.y = e.startCropY - l.height)) : r === \"se\" ? (l.x = e.startCropX, l.y = e.startCropY, l.width = d, t ? l.height = l.width / t : l.height = g) : r === \"sw\" ? (l.x = e.startCropX + d, l.y = e.startCropY, l.width = Math.abs(d), t ? l.height = l.width / t : l.height = g) : r === \"nw\" && (l.x = e.startCropX + d, l.width = Math.abs(d), t ? (l.height = l.width / t, l.y = e.startCropY - l.height) : (l.height = Math.abs(g), l.y = e.startCropY + g));\n    const m = P(\n      l,\n      t,\n      r,\n      n.width,\n      n.height,\n      s,\n      w,\n      h,\n      i\n    );\n    return t || u.xyOrds.indexOf(c) > -1 ? a = m : u.xOrds.indexOf(c) > -1 ? (a.x = m.x, a.width = m.width) : u.yOrds.indexOf(c) > -1 && (a.y = m.y, a.height = m.height), a.x = v(a.x, 0, n.width - a.width), a.y = v(a.y, 0, n.height - a.height), a;\n  }\n  renderCropSelection() {\n    const {\n      ariaLabels: e = u.defaultProps.ariaLabels,\n      disabled: t,\n      locked: h,\n      renderSelectionAddon: i,\n      ruleOfThirds: n,\n      crop: s\n    } = this.props, w = this.getCropStyle();\n    if (s)\n      return /* @__PURE__ */ p.createElement(\n        \"div\",\n        {\n          style: w,\n          className: \"ReactCrop__crop-selection\",\n          onPointerDown: this.onCropPointerDown,\n          \"aria-label\": e.cropArea,\n          tabIndex: 0,\n          onKeyDown: this.onComponentKeyDown,\n          role: \"group\"\n        },\n        !t && !h && /* @__PURE__ */ p.createElement(\"div\", { className: \"ReactCrop__drag-elements\", onFocus: this.onDragFocus }, /* @__PURE__ */ p.createElement(\"div\", { className: \"ReactCrop__drag-bar ord-n\", \"data-ord\": \"n\" }), /* @__PURE__ */ p.createElement(\"div\", { className: \"ReactCrop__drag-bar ord-e\", \"data-ord\": \"e\" }), /* @__PURE__ */ p.createElement(\"div\", { className: \"ReactCrop__drag-bar ord-s\", \"data-ord\": \"s\" }), /* @__PURE__ */ p.createElement(\"div\", { className: \"ReactCrop__drag-bar ord-w\", \"data-ord\": \"w\" }), /* @__PURE__ */ p.createElement(\n          \"div\",\n          {\n            className: \"ReactCrop__drag-handle ord-nw\",\n            \"data-ord\": \"nw\",\n            tabIndex: 0,\n            \"aria-label\": e.nwDragHandle,\n            onKeyDown: (a) => this.onHandlerKeyDown(a, \"nw\"),\n            role: \"button\"\n          }\n        ), /* @__PURE__ */ p.createElement(\n          \"div\",\n          {\n            className: \"ReactCrop__drag-handle ord-n\",\n            \"data-ord\": \"n\",\n            tabIndex: 0,\n            \"aria-label\": e.nDragHandle,\n            onKeyDown: (a) => this.onHandlerKeyDown(a, \"n\"),\n            role: \"button\"\n          }\n        ), /* @__PURE__ */ p.createElement(\n          \"div\",\n          {\n            className: \"ReactCrop__drag-handle ord-ne\",\n            \"data-ord\": \"ne\",\n            tabIndex: 0,\n            \"aria-label\": e.neDragHandle,\n            onKeyDown: (a) => this.onHandlerKeyDown(a, \"ne\"),\n            role: \"button\"\n          }\n        ), /* @__PURE__ */ p.createElement(\n          \"div\",\n          {\n            className: \"ReactCrop__drag-handle ord-e\",\n            \"data-ord\": \"e\",\n            tabIndex: 0,\n            \"aria-label\": e.eDragHandle,\n            onKeyDown: (a) => this.onHandlerKeyDown(a, \"e\"),\n            role: \"button\"\n          }\n        ), /* @__PURE__ */ p.createElement(\n          \"div\",\n          {\n            className: \"ReactCrop__drag-handle ord-se\",\n            \"data-ord\": \"se\",\n            tabIndex: 0,\n            \"aria-label\": e.seDragHandle,\n            onKeyDown: (a) => this.onHandlerKeyDown(a, \"se\"),\n            role: \"button\"\n          }\n        ), /* @__PURE__ */ p.createElement(\n          \"div\",\n          {\n            className: \"ReactCrop__drag-handle ord-s\",\n            \"data-ord\": \"s\",\n            tabIndex: 0,\n            \"aria-label\": e.sDragHandle,\n            onKeyDown: (a) => this.onHandlerKeyDown(a, \"s\"),\n            role: \"button\"\n          }\n        ), /* @__PURE__ */ p.createElement(\n          \"div\",\n          {\n            className: \"ReactCrop__drag-handle ord-sw\",\n            \"data-ord\": \"sw\",\n            tabIndex: 0,\n            \"aria-label\": e.swDragHandle,\n            onKeyDown: (a) => this.onHandlerKeyDown(a, \"sw\"),\n            role: \"button\"\n          }\n        ), /* @__PURE__ */ p.createElement(\n          \"div\",\n          {\n            className: \"ReactCrop__drag-handle ord-w\",\n            \"data-ord\": \"w\",\n            tabIndex: 0,\n            \"aria-label\": e.wDragHandle,\n            onKeyDown: (a) => this.onHandlerKeyDown(a, \"w\"),\n            role: \"button\"\n          }\n        )),\n        i && /* @__PURE__ */ p.createElement(\"div\", { className: \"ReactCrop__selection-addon\", onPointerDown: (a) => a.stopPropagation() }, i(this.state)),\n        n && /* @__PURE__ */ p.createElement(p.Fragment, null, /* @__PURE__ */ p.createElement(\"div\", { className: \"ReactCrop__rule-of-thirds-hz\" }), /* @__PURE__ */ p.createElement(\"div\", { className: \"ReactCrop__rule-of-thirds-vt\" }))\n      );\n  }\n  makePixelCrop(e) {\n    const t = { ...M, ...this.props.crop || {} };\n    return y(t, e.width, e.height);\n  }\n  render() {\n    const { aspect: e, children: t, circularCrop: h, className: i, crop: n, disabled: s, locked: w, style: a, ruleOfThirds: r } = this.props, { cropIsActive: c, newCropIsBeingDrawn: d } = this.state, g = n ? this.renderCropSelection() : null, l = S(\n      \"ReactCrop\",\n      i,\n      c && \"ReactCrop--active\",\n      s && \"ReactCrop--disabled\",\n      w && \"ReactCrop--locked\",\n      d && \"ReactCrop--new-crop\",\n      n && e && \"ReactCrop--fixed-aspect\",\n      n && h && \"ReactCrop--circular-crop\",\n      n && r && \"ReactCrop--rule-of-thirds\",\n      !this.dragStarted && n && !n.width && !n.height && \"ReactCrop--invisible-crop\",\n      h && \"ReactCrop--no-animate\"\n    );\n    return /* @__PURE__ */ p.createElement(\"div\", { ref: this.componentRef, className: l, style: a }, /* @__PURE__ */ p.createElement(\"div\", { ref: this.mediaRef, className: \"ReactCrop__child-wrapper\", onPointerDown: this.onComponentPointerDown }, t), n ? /* @__PURE__ */ p.createElement(\"svg\", { className: \"ReactCrop__crop-mask\", width: \"100%\", height: \"100%\" }, /* @__PURE__ */ p.createElement(\"defs\", null, /* @__PURE__ */ p.createElement(\"mask\", { id: `hole-${this.instanceId}` }, /* @__PURE__ */ p.createElement(\"rect\", { width: \"100%\", height: \"100%\", fill: \"white\" }), h ? /* @__PURE__ */ p.createElement(\n      \"ellipse\",\n      {\n        cx: `${n.x + n.width / 2}${n.unit}`,\n        cy: `${n.y + n.height / 2}${n.unit}`,\n        rx: `${n.width / 2}${n.unit}`,\n        ry: `${n.height / 2}${n.unit}`,\n        fill: \"black\"\n      }\n    ) : /* @__PURE__ */ p.createElement(\n      \"rect\",\n      {\n        x: `${n.x}${n.unit}`,\n        y: `${n.y}${n.unit}`,\n        width: `${n.width}${n.unit}`,\n        height: `${n.height}${n.unit}`,\n        fill: \"black\"\n      }\n    ))), /* @__PURE__ */ p.createElement(\"rect\", { fill: \"black\", fillOpacity: 0.5, width: \"100%\", height: \"100%\", mask: `url(#hole-${this.instanceId})` })) : void 0, g);\n  }\n};\nu.xOrds = [\"e\", \"w\"], u.yOrds = [\"n\", \"s\"], u.xyOrds = [\"nw\", \"ne\", \"se\", \"sw\"], u.nudgeStep = 1, u.nudgeStepMedium = 10, u.nudgeStepLarge = 100, u.defaultProps = {\n  ariaLabels: {\n    cropArea: \"Use the arrow keys to move the crop selection area\",\n    nwDragHandle: \"Use the arrow keys to move the north west drag handle to change the crop selection area\",\n    nDragHandle: \"Use the up and down arrow keys to move the north drag handle to change the crop selection area\",\n    neDragHandle: \"Use the arrow keys to move the north east drag handle to change the crop selection area\",\n    eDragHandle: \"Use the up and down arrow keys to move the east drag handle to change the crop selection area\",\n    seDragHandle: \"Use the arrow keys to move the south east drag handle to change the crop selection area\",\n    sDragHandle: \"Use the up and down arrow keys to move the south drag handle to change the crop selection area\",\n    swDragHandle: \"Use the arrow keys to move the south west drag handle to change the crop selection area\",\n    wDragHandle: \"Use the up and down arrow keys to move the west drag handle to change the crop selection area\"\n  }\n};\nlet X = u;\nexport {\n  X as Component,\n  X as ReactCrop,\n  Y as areCropsEqual,\n  I as centerCrop,\n  v as clamp,\n  S as cls,\n  P as containCrop,\n  D as convertToPercentCrop,\n  y as convertToPixelCrop,\n  X as default,\n  M as defaultCrop,\n  H as makeAspectCrop,\n  _ as nudgeCrop\n};\n","import type { PixelCrop } from 'react-image-crop'\n\nconst TO_RADIANS = Math.PI / 180\n\nexport async function canvasPreview(\n  image: HTMLImageElement,\n  canvas: HTMLCanvasElement,\n  crop: PixelCrop,\n  scale = 1,\n  rotate = 0,\n) {\n  const ctx = canvas.getContext('2d')\n\n  if (!ctx) {\n    throw new Error('No 2d context')\n  }\n\n  const scaleX = image.naturalWidth / image.width\n  const scaleY = image.naturalHeight / image.height\n  // devicePixelRatio slightly increases sharpness on retina devices\n  // at the expense of slightly slower render times and needing to\n  // size the image back down if you want to download/upload and be\n  // true to the images natural size.\n  const pixelRatio = window.devicePixelRatio\n  // const pixelRatio = 1\n\n  canvas.width = Math.floor(crop.width * scaleX * pixelRatio)\n  canvas.height = Math.floor(crop.height * scaleY * pixelRatio)\n\n  ctx.scale(pixelRatio, pixelRatio)\n  ctx.imageSmoothingQuality = 'high'\n\n  const cropX = crop.x * scaleX\n  const cropY = crop.y * scaleY\n\n  const rotateRads = rotate * TO_RADIANS\n  const centerX = image.naturalWidth / 2\n  const centerY = image.naturalHeight / 2\n\n  ctx.save()\n\n  // 5) Move the crop origin to the canvas origin (0,0)\n  ctx.translate(-cropX, -cropY)\n  // 4) Move the origin to the center of the original position\n  ctx.translate(centerX, centerY)\n  // 3) Rotate around the origin\n  ctx.rotate(rotateRads)\n  // 2) Scale the image\n  ctx.scale(scale, scale)\n  // 1) Move the center of the image to the origin (0,0)\n  ctx.translate(-centerX, -centerY)\n  ctx.drawImage(\n    image,\n    0,\n    0,\n    image.naturalWidth,\n    image.naturalHeight,\n    0,\n    0,\n    image.naturalWidth,\n    image.naturalHeight,\n  )\n\n  ctx.restore()\n}\n","import { centerCrop, makeAspectCrop } from 'react-image-crop'\n\nexport function centerAspectCrop(\n  mediaWidth: number,\n  mediaHeight: number,\n  aspect: number,\n) {\n  return centerCrop(\n    makeAspectCrop(\n      {\n        unit: '%',\n        width: 90,\n      },\n      aspect,\n      mediaWidth,\n      mediaHeight,\n    ),\n    mediaWidth,\n    mediaHeight,\n  )\n}\n","import { useEffect } from 'react'\n\nimport type { DependencyList } from 'react'\n\nexport function useDebounceEffect(\n  fn: () => void,\n  waitTime: number,\n  deps?: DependencyList,\n) {\n  useEffect(() => {\n    const t = setTimeout(() => fn.apply({ ...deps }), waitTime)\n\n    return () => {\n      clearTimeout(t)\n    }\n  }, deps)\n}\n","// An edited version of https://codesandbox.io/p/sandbox/react-image-crop-demo-with-react-hooks-y831o\n\nimport React, { useRef, useState } from 'react'\nimport ReactCrop from 'react-image-crop'\nimport { Box, Flex, Text } from 'theme-ui'\n\nimport { Button } from '../Button/Button'\nimport { Loader } from '../Loader/Loader'\nimport { canvasPreview } from './canvasPreview'\nimport { centerAspectCrop } from './centerAspectCrop'\nimport { useDebounceEffect } from './useDebounceEffect'\n\nimport type { Crop, PixelCrop } from 'react-image-crop'\n\nimport 'react-image-crop/dist/ReactCrop.css'\n\nexport interface Props {\n  aspect: number\n  callbackFn: (imgSrc: string) => Promise<string>\n  callbackLabel: string\n  imgSrc: string\n  subTitle?: string\n  title: string\n}\n\nconst IMAGE_QUALITY = 90\nconst SCALE = 1\n\nexport const ImageCrop = (props: Props) => {\n  const previewCanvasRef = useRef<HTMLCanvasElement>(null)\n  const imgRef = useRef<HTMLImageElement>(null)\n  const blobUrlRef = useRef('')\n\n  const { aspect, callbackFn, callbackLabel, imgSrc, subTitle, title } = props\n\n  const [crop, setCrop] = useState<Crop>()\n  const [completedCrop, setCompletedCrop] = useState<PixelCrop>()\n  const [isLoading, setIsLoading] = useState<boolean>(false)\n\n  function onImageLoad(e: React.SyntheticEvent<HTMLImageElement>) {\n    const { width, height } = e.currentTarget\n    console.log(e)\n    setCrop(centerAspectCrop(width, height, aspect))\n  }\n\n  async function onDownloadCropClick() {\n    setIsLoading(true)\n\n    const image = imgRef.current\n    const previewCanvas = previewCanvasRef.current\n\n    if (!image || !previewCanvas || !completedCrop) {\n      throw new Error('Crop canvas does not exist')\n    }\n\n    // This will size relative to the uploaded image\n    // size. If you want to size according to what they\n    // are looking at on screen, remove scaleX + scaleY\n    const scaleX = image.naturalWidth / image.width\n    const scaleY = image.naturalHeight / image.height\n\n    const offscreen = new OffscreenCanvas(\n      completedCrop.width * scaleX,\n      completedCrop.height * scaleY,\n    )\n    const ctx = offscreen.getContext('2d')\n    if (!ctx) {\n      throw new Error('No 2d context')\n    }\n\n    ctx.drawImage(\n      previewCanvas,\n      0,\n      0,\n      previewCanvas.width,\n      previewCanvas.height,\n      0,\n      0,\n      offscreen.width,\n      offscreen.height,\n    )\n    const blob = await offscreen.convertToBlob({\n      type: 'image/jpeg',\n      quality: IMAGE_QUALITY,\n    })\n\n    if (blobUrlRef.current) {\n      URL.revokeObjectURL(blobUrlRef.current)\n    }\n    blobUrlRef.current = URL.createObjectURL(blob)\n\n    await callbackFn(blobUrlRef.current)\n    setIsLoading(false)\n  }\n\n  useDebounceEffect(\n    async () => {\n      if (\n        completedCrop?.width &&\n        completedCrop?.height &&\n        imgRef.current &&\n        previewCanvasRef.current\n      ) {\n        canvasPreview(\n          imgRef.current,\n          previewCanvasRef.current,\n          completedCrop,\n          SCALE,\n        )\n      }\n    },\n    100,\n    [completedCrop, SCALE],\n  )\n\n  const padding = 3\n\n  return (\n    <>\n      <Box sx={{ padding }}>\n        <Text>{title}</Text>\n        <br />\n        <Text variant=\"quiet\">{subTitle}</Text>\n      </Box>\n\n      <Flex\n        sx={{\n          borderBottom: '2px dashed silver',\n          borderTop: '2px dashed silver',\n          padding,\n        }}\n      >\n        {isLoading && (\n          <Box sx={{ flex: 1 }}>\n            <Loader label=\"Uploading image now. It'll only a sec. Hopefully.\" />\n          </Box>\n        )}\n\n        {!isLoading && !!imgSrc && (\n          <Flex sx={{ flex: 1, justifyContent: 'center' }}>\n            <ReactCrop\n              aspect={aspect}\n              crop={crop}\n              minHeight={100}\n              onChange={(_, percentCrop) => setCrop(percentCrop)}\n              onComplete={(c) => setCompletedCrop(c)}\n            >\n              <img\n                alt=\"Crop me\"\n                data-testid=\"cropImage\"\n                onLoad={onImageLoad}\n                ref={imgRef}\n                src={imgSrc}\n              />\n            </ReactCrop>\n          </Flex>\n        )}\n      </Flex>\n\n      <Box sx={{ padding }}>\n        <Button onClick={onDownloadCropClick} disabled={isLoading}>\n          {callbackLabel}\n        </Button>\n      </Box>\n    </>\n  )\n}\n"],"names":["M","v","o","S","Y","H","h","i","y","D","I","P","n","a","r","c","d","g","l","m","x","_","f","$","u","k","E","b","C","R","p","X","TO_RADIANS","canvasPreview","image","canvas","crop","scale","rotate","ctx","scaleX","scaleY","pixelRatio","cropX","cropY","rotateRads","centerX","centerY","centerAspectCrop","mediaWidth","mediaHeight","aspect","centerCrop","makeAspectCrop","useDebounceEffect","fn","waitTime","deps","useEffect","t","IMAGE_QUALITY","SCALE","ImageCrop","props","previewCanvasRef","useRef","imgRef","blobUrlRef","callbackFn","callbackLabel","imgSrc","subTitle","title","setCrop","useState","completedCrop","setCompletedCrop","isLoading","setIsLoading","onImageLoad","e","width","height","onDownloadCropClick","previewCanvas","offscreen","blob","padding","jsxs","Fragment","Box","jsx","Text","Flex","Loader","ReactCrop","percentCrop","Button"],"mappings":"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","x_google_ignoreList":[0]}