import{j as e}from"./iframe-Cjt2dpkB.js";import{B as T}from"./Button-R05CiQRL.js";import{B as w}from"./ButtonIcon-BkPQ1QkX.js";import{M}from"./MemberBadge-DSfxKaOz.js";import{U as L}from"./UserBadge-CEZDISVa.js";import{C as q}from"./CardButton-8BzS1xzE.js";import{F as r,H as B,T as n,c as I,g as k}from"./theme-ui-components.esm-BVN6jzx1.js";const h=i=>{const{active:r,onClick:t,children:n,filterType:s,sx:a}=i;return e.jsx(q,{"data-cy":`MapFilterListItem-${s}${r?"-active":""}`,onClick:t,extrastyles:{display:"flex",maxWidth:["100%","49%"],width:"500px",flexDirection:"row",backgroundColor:"offWhite",padding:1,alignItems:"center",gap:2,...r?{borderColor:"green",":hover":{borderColor:"green"}}:{borderColor:"offWhite",":hover":{borderColor:"offWhite"}},...a},children:n})};h.__docgenInfo={description:"",methods:[],displayName:"MapFilterListItem",props:{active:{required:!0,tsType:{name:"boolean"},description:""},onClick:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},filterType:{required:!0,tsType:{name:"string"},description:""},sx:{required:!1,tsType:{name:"union",raw:"ThemeUIStyleObject | undefined",elements:[{name:"ThemeUIStyleObject"},{name:"undefined"}]},description:""}}};const x=({children:i})=>e.jsx(r,{as:"ul","data-cy":"MapFilterList",sx:{listStyle:"none",flexWrap:"wrap",gap:2,flexDirection:"row",padding:0},children:i});x.__docgenInfo={description:"",methods:[],displayName:"MapFilterListWrapper",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};const R=i=>{const{activeFilters:t,availableFilters:s,onClose:a,onFilterChange:o,pinCount:l}=i,d=e=>s.filter((({filterType:i})=>i===e)),c=d("badge"),p=d("profileType"),m=d("setting"),f=s.slice(0).filter((({filterType:e})=>"profileTag"===e)).sort(((e,i)=>e.label>i.label?1:0)),u=e=>!!t.find((i=>i.label===e)),g=(i,t,s=!1)=>e.jsx(e.Fragment,{children:t.length>0&&e.jsxs(r,{sx:{gap:1,flexDirection:"column"},children:[e.jsx(n,{children:i}),e.jsx(x,{children:t.map(((i,r)=>e.jsxs(I,{sx:{alignItems:"center",gap:0},children:[e.jsx(k,{onClick:()=>o(i),defaultChecked:u(i.label)}),i.label,s&&e.jsx(L,{badgeName:i._id})]},r)))})]})}),j=`${l} result${1===l?"":"s"} in current view`;return e.jsxs(r,{"data-cy":"MapFilterList",sx:{flexDirection:"column",maxHeight:"100%",overflow:"auto",position:"relative"},children:[e.jsxs(r,{sx:{alignItems:"center",borderBottom:"1px solid",gap:2,justifyContent:"space-between",padding:2},children:[e.jsxs(r,{sx:{flexDirection:"column"},children:[e.jsx(B,{as:"h3",variant:"small",children:"Filter what you see"}),e.jsx(n,{variant:"quiet",children:"Zoom out on the map to search the whole world"})]}),e.jsx(w,{"data-cy":"MapFilterList-CloseButton",icon:"close",onClick:()=>a(),sx:{border:"none",paddingLeft:2,paddingRight:3}})]}),e.jsxs(r,{sx:{flexDirection:"column",flex:1,gap:2,overflow:"scroll",padding:2},children:[p.length>0&&e.jsxs(r,{sx:{gap:1,flexDirection:"column"},children:[e.jsx(n,{children:"Profiles"}),e.jsx(x,{children:p.map(((i,r)=>e.jsxs(h,{active:u(i.label),onClick:()=>o(i),filterType:"profile",children:[e.jsx(M,{size:30,profileType:i._id}),e.jsx(n,{variant:"quiet",sx:{fontSize:1},children:i.label})]},r)))})]}),f.length>0&&e.jsxs(r,{sx:{gap:1,flexDirection:"column"},children:[e.jsx(n,{children:"Spaces activities"}),e.jsx(x,{children:f.map(((i,r)=>e.jsx(h,{active:u(i.label),onClick:()=>o(i),sx:{maxWidth:"auto",width:"auto"},filterType:"tag",children:e.jsx(n,{variant:"quiet",sx:{fontSize:1},children:i.label})},r)))})]}),g("Badges",c,!0),g("Profile Specifications",m)]}),e.jsx(r,{sx:{borderTop:"1px solid",padding:2},children:e.jsx(T,{"data-cy":"MapFilterList-ShowResultsButton",icon:"sliders",onClick:()=>a(),sx:{alignSelf:"flex-start"},children:j})})]})};R.__docgenInfo={description:"",methods:[],displayName:"MapFilterList",props:{activeFilters:{required:!0,tsType:{name:"MapFilterOptionsList"},description:""},availableFilters:{required:!0,tsType:{name:"MapFilterOptionsList"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onFilterChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(filter: MapFilterOption) => void",signature:{arguments:[{type:{name:"MapFilterOption"},name:"filter"}],return:{name:"void"}}},description:""},pinCount:{required:!0,tsType:{name:"number"},description:""}}};export{R as M};