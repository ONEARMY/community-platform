import{j as e}from"./jsx-runtime-CexXSJP5.js";import{B as M}from"./Button-BYsjdR8l.js";import{B as L}from"./ButtonIcon-BCh0LYqW.js";import{M as w}from"./MemberBadge-BQwHjTxI.js";import{U as k}from"./UserBadge-CKQPlUqC.js";import{C as q}from"./CardButton-DqlKyyLu.js";import{F as r,H as B,T as a,g as I,h as T}from"./theme-ui-components.esm-Cq1N8tMa.js";const m=i=>{const{active:t,onClick:l,children:r,filterType:a,sx:n}=i;return e.jsx(q,{"data-cy":`MapFilterListItem-${a}${t?"-active":""}`,onClick:l,extrastyles:{display:"flex",maxWidth:["100%","49%"],width:"500px",flexDirection:"row",backgroundColor:"offWhite",padding:1,alignItems:"center",gap:2,...t?{borderColor:"green",":hover":{borderColor:"green"}}:{borderColor:"offWhite",":hover":{borderColor:"offWhite"}},...n},children:r})};try{m.displayName="MapFilterListItem",m.__docgenInfo={description:"",displayName:"MapFilterListItem",props:{active:{defaultValue:null,description:"",name:"active",required:!0,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},filterType:{defaultValue:null,description:"",name:"filterType",required:!0,type:{name:"string"}},sx:{defaultValue:null,description:"",name:"sx",required:!1,type:{name:"ThemeUIStyleObject"}}}}}catch{}const o=({children:i})=>e.jsx(r,{as:"ul","data-cy":"MapFilterList",sx:{listStyle:"none",flexWrap:"wrap",gap:2,flexDirection:"row",padding:0},children:i});try{o.displayName="MapFilterListWrapper",o.__docgenInfo={description:"",displayName:"MapFilterListWrapper",props:{}}}catch{}const y=i=>{const{activeFilters:t,availableFilters:l,onClose:n,onFilterChange:s,pinCount:d}=i,c=e=>l.filter((({filterType:i})=>i===e)),p=c("badge"),u=c("profileType"),x=c("setting"),f=l.slice(0).filter((({filterType:e})=>"profileTag"===e)).sort(((e,i)=>e.label>i.label?1:0)),h=e=>!!t.find((i=>i.label===e)),g=(i,t,l=!1)=>e.jsx(e.Fragment,{children:t.length>0&&e.jsxs(r,{sx:{gap:1,flexDirection:"column"},children:[e.jsx(a,{children:i}),e.jsx(o,{children:t.map(((i,t)=>e.jsxs(I,{sx:{alignItems:"center",gap:0},children:[e.jsx(T,{onClick:()=>s(i),defaultChecked:h(i.label)}),i.label,l&&e.jsx(k,{badgeName:i._id})]},t)))})]})}),y=`${d} result${1===d?"":"s"} in current view`;return e.jsxs(r,{"data-cy":"MapFilterList",sx:{flexDirection:"column",maxHeight:"100%",overflow:"auto",position:"relative"},children:[e.jsxs(r,{sx:{alignItems:"center",borderBottom:"1px solid",gap:2,justifyContent:"space-between",padding:2},children:[e.jsxs(r,{sx:{flexDirection:"column"},children:[e.jsx(B,{as:"h3",variant:"small",children:"Filter what you see"}),e.jsx(a,{variant:"quiet",children:"Zoom out on the map to search the whole world"})]}),e.jsx(L,{"data-cy":"MapFilterList-CloseButton",icon:"close",onClick:()=>n(),sx:{border:"none",paddingLeft:2,paddingRight:3}})]}),e.jsxs(r,{sx:{flexDirection:"column",flex:1,gap:2,overflow:"scroll",padding:2},children:[u.length>0&&e.jsxs(r,{sx:{gap:1,flexDirection:"column"},children:[e.jsx(a,{children:"Profiles"}),e.jsx(o,{children:u.map(((i,t)=>e.jsxs(m,{active:h(i.label),onClick:()=>s(i),filterType:"profile",children:[e.jsx(w,{size:30,profileType:i._id}),e.jsx(a,{variant:"quiet",sx:{fontSize:1},children:i.label})]},t)))})]}),f.length>0&&e.jsxs(r,{sx:{gap:1,flexDirection:"column"},children:[e.jsx(a,{children:"Spaces activities"}),e.jsx(o,{children:f.map(((i,t)=>e.jsx(m,{active:h(i.label),onClick:()=>s(i),sx:{maxWidth:"auto",width:"auto"},filterType:"tag",children:e.jsx(a,{variant:"quiet",sx:{fontSize:1},children:i.label})},t)))})]}),g("Badges",p,!0),g("Profile Specifications",x)]}),e.jsx(r,{sx:{borderTop:"1px solid",padding:2},children:e.jsx(M,{"data-cy":"MapFilterList-ShowResultsButton",icon:"sliders",onClick:()=>n(),sx:{alignSelf:"flex-start"},children:y})})]})};try{y.displayName="MapFilterList",y.__docgenInfo={description:"",displayName:"MapFilterList",props:{activeFilters:{defaultValue:null,description:"",name:"activeFilters",required:!0,type:{name:"MapFilterOptionsList"}},availableFilters:{defaultValue:null,description:"",name:"availableFilters",required:!0,type:{name:"MapFilterOptionsList"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},onFilterChange:{defaultValue:null,description:"",name:"onFilterChange",required:!0,type:{name:"(filter: MapFilterOption) => void"}},pinCount:{defaultValue:null,description:"",name:"pinCount",required:!0,type:{name:"number"}}}}}catch{}export{y as M};