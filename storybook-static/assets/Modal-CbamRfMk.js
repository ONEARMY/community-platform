import{n as d,R as u,r as l,j as r}from"./iframe-DcRPcggf.js";import{P as a}from"./index-4CWCEE2N.js";import{n as c}from"./emotion-styled.browser.esm-BpBV8VqY.js";import{a as s}from"./theme-ui-components.esm-BmKkfoQf.js";var x=!!(typeof window<"u"&&window.document&&window.document.createElement),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(){function e(){return g(this,e),j(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return O(e,u.Component),_(e,[{key:"componentWillUnmount",value:function(){this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null}},{key:"render",value:function(){return x?(!this.props.node&&!this.defaultNode&&(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),d.createPortal(this.props.children,this.props.node||this.defaultNode)):null}}]),e}();h.propTypes={children:a.node.isRequired,node:a.any};var P=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(){function e(){return N(this,e),k(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return E(e,u.Component),P(e,[{key:"componentDidMount",value:function(){this.renderPortal()}},{key:"componentDidUpdate",value:function(e){this.renderPortal()}},{key:"componentWillUnmount",value:function(){d.unmountComponentAtNode(this.defaultNode||this.props.node),this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null,this.portal=null}},{key:"renderPortal",value:function(e){!this.props.node&&!this.defaultNode&&(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode));var t=this.props.children;"function"==typeof this.props.children.type&&(t=u.cloneElement(this.props.children)),this.portal=d.unstable_renderSubtreeIntoContainer(this,t,this.props.node||this.defaultNode)}},{key:"render",value:function(){return null}}]),e}();m.propTypes={children:a.node.isRequired,node:a.any};var f=void 0;f=d.createPortal?h:m;const p=()=>{const e=typeof window<"u"&&.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)},T=e=>{const{children:t,width:n,height:o,isOpen:i,sx:d}=e;l.useEffect((()=>{p(),window.addEventListener("resize",p)}),[]);const a=c(s)`
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.4);
    z-index: 4000;
  `,u=c(s)`
    padding: 16px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    width: ${n||300}px;
    max-width: 100vw;
    max-height: 100vh; // Fallback for browsers that do not support Custom Properties
    max-height: calc(var(--vh, 1vh) * 95);
    position: fixed;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    background: white;
    border: 2px solid black;
    border-radius: 10px;
    z-index: 4001;
    overflow: hidden;
  `;return l.useEffect((()=>{document.body.style.overflow=i?"hidden":"unset"}),[i]),r.jsx(r.Fragment,{children:i&&r.jsxs(f,{children:[r.jsx(a,{onClick:()=>{e.onDidDismiss&&e.onDidDismiss()}}),r.jsx(u,{sx:{height:o,width:n,...d},children:t})]})})};T.__docgenInfo={description:"",methods:[],displayName:"Modal",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},width:{required:!1,tsType:{name:"number"},description:""},height:{required:!1,tsType:{name:"number"},description:""},onDidDismiss:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},sx:{required:!1,tsType:{name:"union",raw:"ThemeUIStyleObject | undefined",elements:[{name:"ThemeUIStyleObject"},{name:"undefined"}]},description:""}}};export{T as M};