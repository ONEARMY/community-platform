import{j as r}from"./jsx-runtime-CexXSJP5.js";import{a as l,r as f}from"./index-BP8_t0zE.js";import{R as a}from"./index-BBRV8eG_.js";import{P as d}from"./index-Snk9MO9S.js";import{n as c}from"./emotion-styled.browser.esm-Dz2BNYeh.js";import{a as p}from"./theme-ui-components.esm-Ducqtegh.js";var x=!!(typeof window<"u"&&window.document&&window.document.createElement),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(){function e(){return O(this,e),P(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return j(e,l.Component),g(e,[{key:"componentWillUnmount",value:function(){this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null}},{key:"render",value:function(){return x?(!this.props.node&&!this.defaultNode&&(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),a.createPortal(this.props.children,this.props.node||this.defaultNode)):null}}]),e}();m.propTypes={children:d.node.isRequired,node:d.any};var N=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=function(){function e(){return k(this,e),E(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return D(e,l.Component),N(e,[{key:"componentDidMount",value:function(){this.renderPortal()}},{key:"componentDidUpdate",value:function(e){this.renderPortal()}},{key:"componentWillUnmount",value:function(){a.unmountComponentAtNode(this.defaultNode||this.props.node),this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null,this.portal=null}},{key:"renderPortal",value:function(e){!this.props.node&&!this.defaultNode&&(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode));var t=this.props.children;"function"==typeof this.props.children.type&&(t=l.cloneElement(this.props.children)),this.portal=a.unstable_renderSubtreeIntoContainer(this,t,this.props.node||this.defaultNode)}},{key:"render",value:function(){return null}}]),e}();y.propTypes={children:d.node.isRequired,node:d.any};var u=void 0;u=a.createPortal?m:y;const s=()=>{const e=typeof window<"u"&&.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)},h=e=>{const{children:t,width:n,height:o,isOpen:i,sx:a}=e;f.useEffect((()=>{s(),window.addEventListener("resize",s)}),[]);const d=c(p)`
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.4);
    z-index: 4000;
  `,l=c(p)`
    padding: 16px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    width: ${n||300}px;
    max-width: 100vw;
    max-height: 100vh; // Fallback for browsers that do not support Custom Properties
    max-height: calc(var(--vh, 1vh) * 95);
    position: fixed;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    background: white;
    border: 2px solid black;
    border-radius: 10px;
    z-index: 4001;
    overflow: hidden;
  `;return f.useEffect((()=>{document.body.style.overflow=i?"hidden":"unset"}),[i]),r.jsx(r.Fragment,{children:i&&r.jsxs(u,{children:[r.jsx(d,{onClick:()=>{e.onDidDismiss&&e.onDidDismiss()}}),r.jsx(l,{sx:{height:o,width:n,...a},children:t})]})})};try{h.displayName="Modal",h.__docgenInfo={description:"",displayName:"Modal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"number"}},onDidDismiss:{defaultValue:null,description:"",name:"onDidDismiss",required:!1,type:{name:"(() => void)"}},sx:{defaultValue:null,description:"",name:"sx",required:!1,type:{name:"ThemeUIStyleObject"}}}}}catch{}export{h as M};