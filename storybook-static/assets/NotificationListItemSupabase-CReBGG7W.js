import{j as t}from"./jsx-runtime-CexXSJP5.js";import{D as C}from"./DisplayDate-DgF3z8a8.js";import{I as b}from"./Icon-vnsTwUGF.js";import{I as c}from"./InternalLink-DHSMbK1G.js";import{F as s,T as d}from"./theme-ui-components.esm-Cq1N8tMa.js";const I=e=>{var t;let n=`/${e.sourceContentType}/${null==(t=e.sourceContent)?void 0:t.slug}`;return"research"==e.sourceContentType&&(n+=`#update_${e.parentContentId}`),n},L=(e,t)=>{var n,o,i;return"research"==e.sourceContentType?`/research/${null==(n=e.sourceContent)?void 0:n.slug}?update_${e.parentContentId}#comment:${null==(o=e.content)?void 0:o.id}`:`${t}#comment:${null==(i=e.content)?void 0:i.id}`},y=e=>{var n,o,i,r,a,l,u;const{markRead:m,modalDismiss:p,notification:x}=e,f=I(x),h=L(x,f),g="news"!==x.contentType?"discussion":"thunderbolt",y={background:x.isRead?"background":"#fff0b4",borderColor:x.isRead?"background":"activeYellow",borderRadius:3,borderStyle:"solid",borderWidth:2,padding:2,gap:2},j=()=>{m(x.id),p()};return t.jsxs(s,{"data-cy":"NotificationListItemSupabase","data-testid":"NotificationListItemSupabase",sx:{gap:2},children:[t.jsx(s,{sx:{...y,alignItems:"center",cursor:"pointer",display:x.isRead?"none":"flex","&:hover":{background:"#fee77b"}},onClick:()=>m(x.id),children:t.jsx(b,{"data-cy":"NotificationListItemSupabase-unread",glyph:"chevron-right"})}),t.jsxs(s,{sx:{...y,flex:1},children:["news"!==x.contentType&&t.jsx(s,{children:t.jsx(b,{glyph:g,size:30})}),t.jsxs(s,{sx:{flex:1,flexDirection:"column",gap:2},children:[t.jsxs(s,{sx:{justifyContent:"space-between",gap:2},children:[t.jsxs(d,{children:[t.jsx(c,{to:`/u/${null==(n=x.triggeredBy)?void 0:n.username}`,sx:{color:"grey","&:hover":{textDecoration:"underline"}},onClick:j,children:null==(o=x.triggeredBy)?void 0:o.username})," ","has left a new ",x.contentType,(null==(i=x.sourceContent)?void 0:i.title)&&t.jsxs(t.Fragment,{children:[" on "," ",t.jsxs(c,{to:f,sx:{color:"black",fontWeight:"bold","&:hover":{textDecoration:"underline"}},onClick:j,children:[x.sourceContent.title,(null==(r=x.parentContent)?void 0:r.title)&&`: ${null==(a=x.parentContent)?void 0:a.title}`]})]})]}),t.jsx(d,{sx:{fontSize:1,color:"grey",textAlign:"right"},children:t.jsx(C,{createdAt:x.createdAt,modifiedAt:x.modifiedAt,showLabel:!1})})]}),t.jsx(c,{to:h,sx:{color:"black"},onClick:j,children:t.jsx(s,{sx:{background:"#E2EDF7",border:"2px solid black",borderRadius:5,padding:2},children:(null==(l=x.content)?void 0:l.comment)&&t.jsx(d,{sx:{alignSelf:"flex-start"},children:null==(u=x.content)?void 0:u.comment})})})]})]})]})};try{y.displayName="NotificationListItemSupabase",y.__docgenInfo={description:"",displayName:"NotificationListItemSupabase",props:{markRead:{defaultValue:null,description:"",name:"markRead",required:!0,type:{name:"(id: number) => void"}},modalDismiss:{defaultValue:null,description:"",name:"modalDismiss",required:!0,type:{name:"() => void"}},notification:{defaultValue:null,description:"",name:"notification",required:!0,type:{name:"Notification"}}}}}catch{}export{y as N};