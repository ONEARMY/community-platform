import{j as e}from"./jsx-runtime-CexXSJP5.js";import{r as g}from"./index-BP8_t0zE.js";import{B as n}from"./Button-IpaWXJZw.js";import{B as b}from"./ButtonIcon-CyuWlUF1.js";import{I as h}from"./InternalLink-3Gv-Nz2v.js";import{L as k}from"./Loader-9qVr4XEI.js";import{N as j}from"./NotificationListItemSupabase-BYGIdQpF.js";import{F as a,H as y,a as N}from"./theme-ui-components.esm-D81fpbIc.js";const p=i=>{const[t,o]=g.useState(!0),{isUpdatingNotifications:s,markAllRead:r,markRead:l,modalDismiss:d,notifications:c}=i,u=c.filter((({isRead:e})=>!e)).length>0,p=c.filter((({isRead:e})=>t?!e:!e||e)).sort(((e,i)=>e.createdAt<i.createdAt?1:-1));return e.jsxs(a,{"data-cy":"NotificationListSupabase",sx:{flexDirection:"column",gap:4},children:[e.jsxs(a,{sx:{alignItems:"center",justifyContent:"space-between"},children:[e.jsx(y,{sx:{fontSize:6},children:"Notifications"}),e.jsx(b,{"data-cy":"MapFilterList-CloseButton",icon:"close",onClick:d,sx:{border:"none",paddingLeft:2,paddingRight:3}})]}),e.jsxs(a,{sx:{justifyContent:"space-between",alignItems:"center",flexDirection:"row",gap:2},children:[e.jsxs(a,{sx:{alignItems:"center",gap:2},children:[e.jsxs(a,{sx:{border:"2px solid",borderRadius:2,overflow:"hidden",backgroundColor:"black",gap:"2px"},children:[e.jsx(n,{onClick:()=>o(!0),variant:"subtle",sx:{backgroundColor:t?"activeYellow":"white",borderRadius:0,":hover":{backgroundColor:t?"activeYellow":"white",textDecoration:t?"none":"underline"}},children:"Unread"}),e.jsx(n,{"data-testid":"NotificationListSupabase-ShowAll",onClick:()=>o(!1),variant:"subtle",sx:{backgroundColor:t?"white":"activeYellow",borderRadius:0,":hover":{backgroundColor:t?"white":"activeYellow",textDecoration:t?"underline":"none"}},children:"All"})]}),u&&e.jsx(n,{"data-testid":"NotificationListSupabase-MarkAllRead",onClick:r,disabled:s,icon:"add",variant:"outline",children:"Mark all read"})]}),e.jsx(h,{to:"/settings/notifications",children:e.jsx(n,{icon:"account",variant:"outline",sx:{alignSelf:"flex-end"},onClick:d,showIconOnly:!0,children:"Update preferences"})})]}),s&&e.jsx(k,{}),!s&&p.map(((i,a)=>e.jsx(j,{markRead:l,modalDismiss:d,notification:i},a))),0===p.length&&!s&&e.jsx(N,{sx:{backgroundColor:"background",borderRadius:2,padding:4,textAlign:"center"},children:"Wow... No unread notifications!"})]})};try{p.displayName="NotificationListSupabase",p.__docgenInfo={description:"",displayName:"NotificationListSupabase",props:{isUpdatingNotifications:{defaultValue:null,description:"",name:"isUpdatingNotifications",required:!0,type:{name:"boolean"}},markAllRead:{defaultValue:null,description:"",name:"markAllRead",required:!0,type:{name:"() => void"}},markRead:{defaultValue:null,description:"",name:"markRead",required:!0,type:{name:"(id: number) => void"}},modalDismiss:{defaultValue:null,description:"",name:"modalDismiss",required:!0,type:{name:"() => void"}},notifications:{defaultValue:null,description:"",name:"notifications",required:!0,type:{name:"Notification[]"}}}}}catch{}export{p as N};