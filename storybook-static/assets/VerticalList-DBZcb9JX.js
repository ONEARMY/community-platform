import{j as J}from"./jsx-runtime-CexXSJP5.js";import{a as i,r as St}from"./index-BP8_t0zE.js";import{n as At}from"./emotion-styled.browser.esm-Dz2BNYeh.js";import{I as Ot}from"./Icon-C4bZh_Yj.js";import{F as Ht,a as Ut}from"./theme-ui-components.esm-BngKL4Rx.js";const _="react-horizontal-scrolling-menu",Ft=`${_}--item`,Pt=`${_}--scroll-container`,_t=`${_}--wrapper`,Dt=`${_}--inner-wrapper`,Yt=`${_}--header`,Xt=`${_}--arrow-left`,zt=`${_}--arrow-right`,qt=`${_}--footer`,Gt="itemId",Nt="data-key",jt="data-index",B={first:"first",last:"last",onInit:"onInit",onUpdate:"onUpdate"},T="",Jt={current:null};class Kt{constructor(){this.subscribe=(t,e)=>{this.observers.set(t,(this.observers.get(t)||[]).concat(e))},this.unsubscribe=(t,e)=>{const o=(this.observers.get(t)||[]).filter((t=>t!==e));o.length?this.observers.set(t,o):this.observers.delete(t)},this.emitUpdates=(t,e)=>{const o=this.observers.get(t)||[];null==o||o.forEach((t=>t(e)))},this.updateBatch=(t,e=!0)=>{t.length&&(t.forEach((([t,e])=>this.emitUpdates(t,e))),e&&this.emitUpdates(B.onUpdate))},this.update=(t,e)=>{this.emitUpdates(t,e),this.emitUpdates(B.onUpdate)},this.observers=new Map}}class Qt extends Map{constructor(){super(),this.subscribe=(t,e)=>this.observer.subscribe(t,e),this.unsubscribe=(t,e)=>this.observer.unsubscribe(t,e),this.isEdgeItem=({key:t,value:e,first:o=this.first(),last:n=this.last()})=>{const r=[];return t===(null==o?void 0:o.key)?r.push([B.first,e]):t===(null==n?void 0:n.key)&&r.push([B.last,e]),r},this.edgeItemsCheck=t=>{const e=this.first(),o=this.last(),n=t.find((([t])=>t===(null==e?void 0:e.key))),r=[];n&&r.push([B.first,n[1]]);const i=t.find((([t])=>t===(null==o?void 0:o.key)));return i&&r.push([B.last,i[1]]),r},this.toArr=()=>this.sort([...this]),this.toItems=()=>this.toArr().map((([t])=>t)),this.sort=t=>t.sort((([,t],[,e])=>+t.index-+e.index)),this.set=(t,e)=>{const o=String(t),n=[[o,e]];return super.set(o,e),n.push(...this.isEdgeItem({key:o,value:e,first:this.first(),last:this.last()})),this.observer.updateBatch(n),this},this.setBatch=t=>{this.firstRun&&this.observer.update(B.onInit);const e=[...t];return this.sort(e).forEach((([t,e])=>{super.set(String(t),e)})),e.push(...this.edgeItemsCheck(e)),this.observer.updateBatch(e,!this.firstRun),this.firstRun=!1,this},this.first=()=>{var t;return null===(t=this.toArr()[0])||void 0===t?void 0:t[1]},this.last=()=>{var t,e;return null===(e=null===(t=this.toArr().slice(-1))||void 0===t?void 0:t[0])||void 0===e?void 0:e[1]},this.filter=t=>this.toArr().filter(t),this.find=t=>this.toArr().find(t),this.findIndex=t=>this.toArr().findIndex(t),this.getCurrentPos=t=>{const e=this.toArr(),o=e.findIndex((([e,o])=>e===t||o===t));return[e,o]},this.prev=t=>{var e;const[o,n]=this.getCurrentPos(t);return-1!==n?null===(e=o[n-1])||void 0===e?void 0:e[1]:void 0},this.next=t=>{var e;const[o,n]=this.getCurrentPos(t);return-1!==n?null===(e=o[n+1])||void 0===e?void 0:e[1]:void 0},this.getVisible=()=>this.filter((t=>t[1].visible)),this.observer=new Kt,this.firstRun=!0}}const Et=t=>"object"==typeof t&&null!=t&&1===t.nodeType,It=(t,e)=>(!e||"hidden"!==t)&&"visible"!==t&&"clip"!==t,mt=(t,e)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const o=getComputedStyle(t,null);return It(o.overflowY,e)||It(o.overflowX,e)||(t=>{const e=(t=>{if(!t.ownerDocument||!t.ownerDocument.defaultView)return null;try{return t.ownerDocument.defaultView.frameElement}catch{return null}})(t);return!!e&&(e.clientHeight<t.scrollHeight||e.clientWidth<t.scrollWidth)})(t)}return!1},ut=(t,e,o,n,r,i,s,l)=>i<t&&s>e||i>t&&s<e?0:i<=t&&l<=o||s>=e&&l>=o?i-t-n:s>e&&l<o||i<t&&l>o?s-e+r:0,Zt=t=>t.parentElement??(t.getRootNode().host||null),Mt=(t,e)=>{var o,n,r,i;if(typeof document>"u")return[];const{scrollMode:s,block:l,inline:a,boundary:c,skipOverflowHiddenElements:u}=e,d="function"==typeof c?c:t=>t!==c;if(!Et(t))throw new TypeError("Invalid target");const h=document.scrollingElement||document.documentElement,f=[];let m=t;for(;Et(m)&&d(m);){if(m=Zt(m),m===h){f.push(m);break}null!=m&&m===document.body&&mt(m)&&!mt(document.documentElement)||null!=m&&mt(m,u)&&f.push(m)}const v=null!=(n=null==(o=window.visualViewport)?void 0:o.width)?n:innerWidth,p=null!=(i=null==(r=window.visualViewport)?void 0:r.height)?i:innerHeight,{scrollX:b,scrollY:g}=window,{height:y,width:w,top:E,right:x,bottom:C,left:M}=t.getBoundingClientRect(),{top:I,right:k,bottom:B,left:T}=(t=>{const e=window.getComputedStyle(t);return{top:parseFloat(e.scrollMarginTop)||0,right:parseFloat(e.scrollMarginRight)||0,bottom:parseFloat(e.scrollMarginBottom)||0,left:parseFloat(e.scrollMarginLeft)||0}})(t);let j="start"===l||"nearest"===l?E-I:"end"===l?C+B:E+y/2-I+B,R="center"===a?M+w/2-T+k:"end"===a?x+k:M-T;const S=[];for(let N=0;N<f.length;N++){const t=f[N],{height:e,width:o,top:n,right:r,bottom:i,left:c}=t.getBoundingClientRect();if("if-needed"===s&&E>=0&&M>=0&&C<=p&&x<=v&&E>=n&&C<=i&&M>=c&&x<=r)return S;const u=getComputedStyle(t),d=parseInt(u.borderLeftWidth,10),m=parseInt(u.borderTopWidth,10),I=parseInt(u.borderRightWidth,10),k=parseInt(u.borderBottomWidth,10);let B=0,T=0;const V="offsetWidth"in t?t.offsetWidth-t.clientWidth-d-I:0,L="offsetHeight"in t?t.offsetHeight-t.clientHeight-m-k:0,$="offsetWidth"in t?0===t.offsetWidth?0:o/t.offsetWidth:0,A="offsetHeight"in t?0===t.offsetHeight?0:e/t.offsetHeight:0;if(h===t)B="start"===l?j:"end"===l?j-p:"nearest"===l?ut(g,g+p,p,m,k,g+j,g+j+y,y):j-p/2,T="start"===a?R:"center"===a?R-v/2:"end"===a?R-v:ut(b,b+v,v,d,I,b+R,b+R+w,w),B=Math.max(0,B+g),T=Math.max(0,T+b);else{B="start"===l?j-n-m:"end"===l?j-i+k+L:"nearest"===l?ut(n,i,e,m,k+L,j,j+y,y):j-(n+e/2)+L/2,T="start"===a?R-c-d:"center"===a?R-(c+o/2)+V/2:"end"===a?R-r+I+V:ut(c,r,o,d,I+V,R,R+w,w);const{scrollLeft:s,scrollTop:u}=t;B=0===A?0:Math.max(0,Math.min(u+B/A,t.scrollHeight-e/A+L)),T=0===$?0:Math.max(0,Math.min(s+T/$,t.scrollWidth-o/$+V)),j+=u-B,R+=s-T}S.push({el:t,top:B,left:T})}return S};function Ct(t,e){if(!t.isConnected||!(t=>{let e=t;for(;e&&e.parentNode;){if(e.parentNode===document)return!0;e=e.parentNode instanceof ShadowRoot?e.parentNode.host:e.parentNode}return!1})(t))return;const o=(t=>{const e=window.getComputedStyle(t);return{top:parseFloat(e.scrollMarginTop)||0,right:parseFloat(e.scrollMarginRight)||0,bottom:parseFloat(e.scrollMarginBottom)||0,left:parseFloat(e.scrollMarginLeft)||0}})(t);if("object"==typeof(n=e)&&"function"==typeof n.behavior)return e.behavior(Mt(t,e));var n;const r="boolean"==typeof e||null==e?void 0:e.behavior;for(const{el:l,top:a,left:c}of Mt(t,(s=void 0,!1===(i=e)?{block:"end",inline:"nearest"}:(s=i)===Object(s)&&0!==Object.keys(s).length?i:{block:"start",inline:"nearest"}))){const t=a-o.top+o.bottom,e=c-o.left+o.right;l.scroll({top:t,left:e,behavior:r})}var i,s}let vt;const Tt=()=>(vt||(vt="performance"in window?performance.now.bind(performance):Date.now),vt());function Vt(t){const e=Tt(),o=Math.min((e-t.startTime)/t.duration,1),n=t.ease(o),r=t.startX+(t.x-t.startX)*n,i=t.startY+(t.y-t.startY)*n;t.method(r,i,o,n),r!==t.x||i!==t.y?requestAnimationFrame((()=>Vt(t))):t.cb()}function te(t,e,o){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:600,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t=>1+--t*t*t*t*t,i=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;const l=t,a=t.scrollLeft,c=t.scrollTop;Vt({scrollable:l,method:(e,o,n,r)=>{const i=Math.ceil(e),l=Math.ceil(o);t.scrollLeft=i,t.scrollTop=l,null==s||s({target:t,elapsed:n,value:r,left:i,top:l})},startTime:Tt(),startX:a,startY:c,x:e,y:o,duration:n,ease:r,cb:i})}const ee=function(t,e){const o=e||{};return(n=o)&&!n.behavior||"smooth"===n.behavior?Ct(t,{block:o.block,inline:o.inline,scrollMode:o.scrollMode,boundary:o.boundary,skipOverflowHiddenElements:o.skipOverflowHiddenElements,behavior:t=>Promise.all(t.reduce(((t,e)=>{let{el:n,left:r,top:i}=e;const s=n.scrollLeft,l=n.scrollTop;return s===r&&l===i?t:[...t,new Promise((t=>te(n,r,i,o.duration,o.ease,(()=>t({el:n,left:[s,r],top:[l,i]})),o.onScrollChange)))]}),[]))}):Promise.resolve(Ct(t,e));var n},ne=t=>Object.values(t).map((t=>t.current)).filter(Boolean);function pt(t,e,o,n,r,i){var s;const l=(null===(s=null==t?void 0:t.entry)||void 0===s?void 0:s.target)||t;if(!l)return;const a={behavior:e||"smooth",inline:o||"end",block:n||"nearest"};return i?l.scrollIntoView(a):ee(l,Object.assign(Object.assign({},r),a))}const re=t=>document.querySelector(`[${Nt}='${t}']`),oe=t=>document.querySelector(`[${jt}='${t}']`);function dt(t){return i.isValidElement(t)&&t||"function"==typeof t&&i.createElement(t,null)||!!t&&"object"==typeof t&&i.createElement(t,null)||null}const $t=t=>{var e;return String((null===(e=null==t?void 0:t.props)||void 0===e?void 0:e[Gt])||((null==t?void 0:t.key)||T).replace(/^\.\$/,T))};function bt(t){return!!t&&Object.prototype.hasOwnProperty.call(t,"current")}var se=i.memo((function({children:t,className:e,id:o,index:n,refs:r}){const s=i.useRef(null);return r[String(n)]=s,i.createElement("div",{className:e,[Nt]:o,[jt]:n,ref:s},t)}));function ie({children:t,itemClassName:e=T,refs:o}){const n=i.Children.toArray(t).filter(Boolean),r=i.useMemo((()=>`${Ft} ${e}`),[e]);return n.map(((t,e)=>{const n=$t(t);return i.createElement(se,{className:r,id:n,key:n,refs:o,index:e},t)}))}function le({className:t=T,children:e,onScroll:o=()=>{},scrollRef:n,containerRef:r}){const s=i.useMemo((()=>`${Pt} ${t}`),[t]),l=i.useCallback((t=>{bt(n)?n.current=t:n(t),bt(r)?r.current=t:r(t)}),[n,r]);return i.createElement("div",{className:s,onScroll:o,ref:l},e)}const gt=i.createContext({}),Bt=typeof window<"u"?i.useLayoutEffect:i.useEffect;function ae({items:t,itemsChanged:e,refs:o,options:n}){const r=i.useRef(),s=i.useCallback((e=>{var o,r;t.setBatch((o=e,r=n,[...o].map((t=>{var e,o,n,i;const s=t.target,l=String(null!==(o=null===(e=null==s?void 0:s.dataset)||void 0===e?void 0:e.key)&&void 0!==o?o:T);return[l,{index:String(null!==(i=null===(n=null==s?void 0:s.dataset)||void 0===n?void 0:n.index)&&void 0!==i?i:T),key:l,entry:t,visible:t.intersectionRatio>=r.ratio}]}))))}),[t,n]);Bt((()=>{const t=ne(o),e=r.current||new IntersectionObserver(s,n);return r.current=e,t.forEach((t=>e.observe(t))),()=>{e.disconnect(),r.current=void 0}}),[s,e,n,o])}const ce=t=>i.Children.toArray(t).map($t).filter(Boolean),kt={ratio:.9,rootMargin:"5px",threshold:[.05,.5,.75,.95]},ue={current:{}},ht=()=>{};function de({LeftArrow:t,RightArrow:e,children:o,Header:n,Footer:r,transitionDuration:s=500,transitionBehavior:l,onInit:a=ht,onUpdate:c=ht,onMouseDown:u,onMouseLeave:d,onMouseUp:h,onMouseMove:f,onScroll:m=ht,onTouchMove:v,onTouchStart:p,onTouchEnd:b,onWheel:g=ht,options:y=kt,scrollContainerClassName:w=T,containerRef:E=Jt,itemClassName:x=T,wrapperClassName:C=T,apiRef:M=ue,RTL:I,noPolyfill:k=!0}){const j=dt(t),R=dt(e),S=dt(n),N=dt(r),V=i.useRef(null),[L]=i.useState({}),$=i.useMemo((()=>Object.assign(Object.assign(Object.assign({},kt),y),{root:V.current})),[y]),A=i.useRef(new Qt).current,O=function(t,e){const[o,n]=i.useState(T),r=i.useMemo((()=>ce(t)),[t]);return i.useEffect((()=>{const t=r.filter(Boolean).join(T);e.toItems().filter((t=>!r.includes(t))).forEach((t=>{e.delete(t)})),n(t)}),[r,e]),o}(o,A),W=((t,e)=>{const o=i.useRef(!0),n=i.useMemo((()=>[e-.05,e-.01,e,e+.01,e+.05]),[e]),r=i.useCallback((t=>{var n;o.current=(null===(n=null==t?void 0:t[0])||void 0===n?void 0:n.intersectionRatio)>=e}),[e]);return Bt((()=>{const e=new IntersectionObserver(r,{threshold:n,rootMargin:"0px"});return t.current&&e.observe(t.current),()=>e.disconnect()}),[o,t,r,n]),o})(V,$.ratio+.05<1?$.ratio+.05:.95);ae(i.useMemo((()=>({items:A,itemsChanged:O,options:$,refs:L})),[A,O,L,$]));const H=i.useMemo((()=>function(t,e,o,n){var r,s,l;const a=(e,o=!1)=>{const[n,r]=i.useState(o),s=i.useCallback((t=>{r(!(null==t||!t.visible))}),[]);return i.useEffect((()=>(t.subscribe(e,s),()=>{t.unsubscribe(e,s)})),[e,s]),n},c=!(null===(r=t.first())||void 0===r||!r.visible),u=!(null===(s=t.last())||void 0===s||!s.visible),d=e=>{var o;return null===(o=t.find((t=>t[1].key===String(e))))||void 0===o?void 0:o[1]},h=()=>{var e,o;const n=null===(o=null===(e=t.getVisible())||void 0===e?void 0:e[0])||void 0===o?void 0:o[1];return n?t.prev(n):void 0},f=()=>{var e;const o=null===(e=t.getVisible().findLast((()=>!0)))||void 0===e?void 0:e[1];return o?t.next(o):void 0},m=null===(l=null==o?void 0:o.boundary)||void 0===l?void 0:l.current;return{getItemById:d,getItemElementById:re,getItemByIndex:e=>{var o;return null===(o=t.find((t=>String(t[1].index)===String(e))))||void 0===o?void 0:o[1]},getItemElementByIndex:oe,getNextElement:f,getPrevElement:h,isFirstItemVisible:c,isItemVisible:e=>t.getVisible().map((t=>t[0])).includes(String(e)),isLastItem:e=>t.last()===d(e),isLastItemVisible:u,scrollNext:(t,e,r,{duration:i,boundary:s=m}={})=>{const l=t??(null==o?void 0:o.behavior);return pt(f(),l,e||"start",r||"nearest",{boundary:s,duration:i??(null==o?void 0:o.duration)},n)},scrollPrev:(t,e,r,{duration:i,boundary:s=m}={})=>{const l=t??(null==o?void 0:o.behavior);return pt(h(),l,e||"end",r||"nearest",{boundary:s,duration:i??(null==o?void 0:o.duration)},n)},useIsVisible:a,useLeftArrowVisible:()=>{const t=a("first",!0),[o,n]=i.useState(t);return i.useEffect((()=>{e.current&&n(t)}),[t]),o},useRightArrowVisible:()=>{const t=a("last",!1),[o,n]=i.useState(t);return i.useEffect((()=>{e.current&&n(t)}),[t]),o},scrollToItem:(t,e,r,i,s)=>{var l;return pt(t,e??(null==o?void 0:o.behavior),r,i,Object.assign(Object.assign({boundary:m},s),{duration:null!==(l=null==s?void 0:s.duration)&&void 0!==l?l:null==o?void 0:o.duration}),n)}}}(A,W,{duration:s,behavior:l,boundary:V},k)),[A,s,l,k,W]),P=i.useCallback((()=>Object.assign(Object.assign({},H),{items:A,scrollContainer:V,menuVisible:W})),[H,A,V,W]),[U,_]=i.useState((()=>P()));(({context:t,onInit:e,onUpdate:o})=>{const n=i.useCallback((()=>e(t)),[e,t]),r=i.useCallback((()=>o(t)),[o,t]),{items:s}=t;i.useEffect((()=>(s.subscribe(B.onInit,n),s.subscribe(B.onUpdate,r),()=>{s.unsubscribe(B.onInit,n),s.unsubscribe(B.onUpdate,r)})),[s,n,r])})({context:U,onInit:a,onUpdate:c}),i.useEffect((()=>_(P())),[P]),i.useEffect((()=>{bt(M)?M.current=U:M(U)}),[U,M]);const F=i.useCallback((t=>m(U,t)),[m,U]),J=i.useCallback((t=>g(U,t)),[g,U]),Y=i.useMemo((()=>`${_t} ${C}`),[C]),D=i.useMemo((()=>`${w}${I?" rtl":T}`),[I,w]);return i.createElement("div",{className:Y,onWheel:J,onMouseDown:null==u?void 0:u(U),onMouseLeave:null==d?void 0:d(U),onMouseUp:null==h?void 0:h(U),onMouseMove:null==f?void 0:f(U),onTouchStart:null==p?void 0:p(U),onTouchMove:null==v?void 0:v(U),onTouchEnd:null==b?void 0:b(U)},i.createElement(gt.Provider,{value:U},i.createElement("div",{className:Yt},S),i.createElement("div",{className:Dt},i.createElement("div",{className:Xt},j),i.createElement(le,{className:D,onScroll:F,scrollRef:V,containerRef:E},i.createElement(ie,{refs:L,itemClassName:x},o)),i.createElement("div",{className:zt},R)),i.createElement("div",{className:qt},N)))}const Lt=({disabled:t,glyph:e,onClick:o})=>J.jsx(Ht,{sx:{width:"35px",overflow:"hidden",alignItems:"center",position:"relative",borderRadius:2,":hover":t?{}:{backgroundColor:"lightGrey"},":active":t?{}:{backgroundColor:"softgrey"}},children:t?null:J.jsx(Ot,{glyph:e,size:40,onClick:o,className:"arrow-"})}),he=()=>{const t=St.useContext(gt),e=t.useLeftArrowVisible();return J.jsx(Lt,{disabled:e,glyph:"chevron-left",onClick:()=>t.scrollToItem(t.getPrevElement(),"smooth","start")})},fe=()=>{const t=St.useContext(gt),e=t.useRightArrowVisible();return J.jsx(Lt,{disabled:e,glyph:"chevron-right",onClick:()=>t.scrollToItem(t.getNextElement(),"smooth","end")})},Rt=({children:t,dataCy:e})=>J.jsx(Ut,{"data-cy":e,sx:{alignSelf:"center",maxWidth:"100%"},children:J.jsx(me,{children:J.jsx(de,{LeftArrow:he,RightArrow:fe,onWheel:ve,children:t})})}),me=At("div")({"& .react-horizontal-scrolling-menu--scroll-container::-webkit-scrollbar":{display:"none"},"& .react-horizontal-scrolling-menu--scroll-container":{scrollbarWidth:"none","-ms-overflow-style":"none"}});function ve(t,e){0!==Math.abs(e.deltaX)||Math.abs(e.deltaY)<15?e.stopPropagation():e.deltaY<0?t.scrollNext():t.scrollPrev()}try{Rt.displayName="VerticalList",Rt.__docgenInfo={description:"",displayName:"VerticalList",props:{dataCy:{defaultValue:null,description:"",name:"dataCy",required:!1,type:{name:"string"}}}}}catch{}export{Rt as V};