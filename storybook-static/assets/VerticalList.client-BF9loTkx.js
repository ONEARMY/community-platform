import{R as i,j as st,r as kt}from"./iframe-DeSZYuJ6.js";import{n as Ot}from"./emotion-styled.browser.esm-BfQcjrzE.js";import{A as St}from"./ArrowIcon-PrIcRD8n.js";import{a as Ht}from"./theme-ui-components.esm-DJ3E_AZV.js";const D="react-horizontal-scrolling-menu",Ut=`${D}--item`,Ft=`${D}--scroll-container`,Pt=`${D}--wrapper`,Dt=`${D}--inner-wrapper`,Yt=`${D}--header`,Xt=`${D}--arrow-left`,_t=`${D}--arrow-right`,qt=`${D}--footer`,zt="itemId",Nt="data-key",Tt="data-index",$={first:"first",last:"last",onInit:"onInit",onUpdate:"onUpdate"},A="",Jt={current:null};class Kt{constructor(){this.subscribe=(t,e)=>{this.observers.set(t,(this.observers.get(t)||[]).concat(e))},this.unsubscribe=(t,e)=>{const n=(this.observers.get(t)||[]).filter((t=>t!==e));n.length?this.observers.set(t,n):this.observers.delete(t)},this.emitUpdates=(t,e)=>{const n=this.observers.get(t)||[];null==n||n.forEach((t=>t(e)))},this.updateBatch=(t,e=!0)=>{t.length&&(t.forEach((([t,e])=>this.emitUpdates(t,e))),e&&this.emitUpdates($.onUpdate))},this.update=(t,e)=>{this.emitUpdates(t,e),this.emitUpdates($.onUpdate)},this.observers=new Map}}class Qt extends Map{constructor(){super(),this.subscribe=(t,e)=>this.observer.subscribe(t,e),this.unsubscribe=(t,e)=>this.observer.unsubscribe(t,e),this.isEdgeItem=({key:t,value:e,first:n=this.first(),last:o=this.last()})=>{const r=[];return t===(null==n?void 0:n.key)?r.push([$.first,e]):t===(null==o?void 0:o.key)&&r.push([$.last,e]),r},this.edgeItemsCheck=t=>{const e=this.first(),n=this.last(),o=t.find((([t])=>t===(null==e?void 0:e.key))),r=[];o&&r.push([$.first,o[1]]);const i=t.find((([t])=>t===(null==n?void 0:n.key)));return i&&r.push([$.last,i[1]]),r},this.toArr=()=>this.sort([...this]),this.toItems=()=>this.toArr().map((([t])=>t)),this.sort=t=>t.sort((([,t],[,e])=>+t.index-+e.index)),this.set=(t,e)=>{const n=String(t),o=[[n,e]];return super.set(n,e),o.push(...this.isEdgeItem({key:n,value:e,first:this.first(),last:this.last()})),this.observer.updateBatch(o),this},this.setBatch=t=>{this.firstRun&&this.observer.update($.onInit);const e=[...t];return this.sort(e).forEach((([t,e])=>{super.set(String(t),e)})),e.push(...this.edgeItemsCheck(e)),this.observer.updateBatch(e,!this.firstRun),this.firstRun=!1,this},this.first=()=>{var t;return null===(t=this.toArr()[0])||void 0===t?void 0:t[1]},this.last=()=>{var t,e;return null===(e=null===(t=this.toArr().slice(-1))||void 0===t?void 0:t[0])||void 0===e?void 0:e[1]},this.filter=t=>this.toArr().filter(t),this.find=t=>this.toArr().find(t),this.findIndex=t=>this.toArr().findIndex(t),this.getCurrentPos=t=>{const e=this.toArr(),n=e.findIndex((([e,n])=>e===t||n===t));return[e,n]},this.prev=t=>{var e;const[n,o]=this.getCurrentPos(t);return-1!==o?null===(e=n[o-1])||void 0===e?void 0:e[1]:void 0},this.next=t=>{var e;const[n,o]=this.getCurrentPos(t);return-1!==o?null===(e=n[o+1])||void 0===e?void 0:e[1]:void 0},this.getVisible=()=>this.filter((t=>t[1].visible)),this.observer=new Kt,this.firstRun=!0}}const xt=t=>"object"==typeof t&&null!=t&&1===t.nodeType,Mt=(t,e)=>(!e||"hidden"!==t)&&"visible"!==t&&"clip"!==t,mt=(t,e)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const n=getComputedStyle(t,null);return Mt(n.overflowY,e)||Mt(n.overflowX,e)||(t=>{const e=(t=>{if(!t.ownerDocument||!t.ownerDocument.defaultView)return null;try{return t.ownerDocument.defaultView.frameElement}catch{return null}})(t);return!!e&&(e.clientHeight<t.scrollHeight||e.clientWidth<t.scrollWidth)})(t)}return!1},ut=(t,e,n,o,r,i,s,l)=>i<t&&s>e||i>t&&s<e?0:i<=t&&l<=n||s>=e&&l>=n?i-t-o:s>e&&l<n||i<t&&l>n?s-e+r:0,Zt=t=>t.parentElement??(t.getRootNode().host||null),It=(t,e)=>{var n,o,r,i;if(typeof document>"u")return[];const{scrollMode:s,block:l,inline:a,boundary:c,skipOverflowHiddenElements:u}=e,d="function"==typeof c?c:t=>t!==c;if(!xt(t))throw new TypeError("Invalid target");const h=document.scrollingElement||document.documentElement,f=[];let m=t;for(;xt(m)&&d(m);){if(m=Zt(m),m===h){f.push(m);break}null!=m&&m===document.body&&mt(m)&&!mt(document.documentElement)||null!=m&&mt(m,u)&&f.push(m)}const v=null!=(o=null==(n=window.visualViewport)?void 0:n.width)?o:innerWidth,p=null!=(i=null==(r=window.visualViewport)?void 0:r.height)?i:innerHeight,{scrollX:b,scrollY:g}=window,{height:y,width:w,top:E,right:I,bottom:M,left:x}=t.getBoundingClientRect(),{top:C,right:R,bottom:A,left:k}=(t=>{const e=window.getComputedStyle(t);return{top:parseFloat(e.scrollMarginTop)||0,right:parseFloat(e.scrollMarginRight)||0,bottom:parseFloat(e.scrollMarginBottom)||0,left:parseFloat(e.scrollMarginLeft)||0}})(t);let $="start"===l||"nearest"===l?E-C:"end"===l?M+A:E+y/2-C+A,S="center"===a?x+w/2-k+R:"end"===a?I+R:x-k;const N=[];for(let j=0;j<f.length;j++){const t=f[j],{height:e,width:n,top:o,right:r,bottom:i,left:c}=t.getBoundingClientRect();if("if-needed"===s&&E>=0&&x>=0&&M<=p&&I<=v&&E>=o&&M<=i&&x>=c&&I<=r)return N;const u=getComputedStyle(t),d=parseInt(u.borderLeftWidth,10),m=parseInt(u.borderTopWidth,10),C=parseInt(u.borderRightWidth,10),R=parseInt(u.borderBottomWidth,10);let A=0,k=0;const T="offsetWidth"in t?t.offsetWidth-t.clientWidth-d-C:0,L="offsetHeight"in t?t.offsetHeight-t.clientHeight-m-R:0,W="offsetWidth"in t?0===t.offsetWidth?0:n/t.offsetWidth:0,B="offsetHeight"in t?0===t.offsetHeight?0:e/t.offsetHeight:0;if(h===t)A="start"===l?$:"end"===l?$-p:"nearest"===l?ut(g,g+p,p,m,R,g+$,g+$+y,y):$-p/2,k="start"===a?S:"center"===a?S-v/2:"end"===a?S-v:ut(b,b+v,v,d,C,b+S,b+S+w,w),A=Math.max(0,A+g),k=Math.max(0,k+b);else{A="start"===l?$-o-m:"end"===l?$-i+R+L:"nearest"===l?ut(o,i,e,m,R+L,$,$+y,y):$-(o+e/2)+L/2,k="start"===a?S-c-d:"center"===a?S-(c+n/2)+T/2:"end"===a?S-r+C+T:ut(c,r,n,d,C+T,S,S+w,w);const{scrollLeft:s,scrollTop:u}=t;A=0===B?0:Math.max(0,Math.min(u+A/B,t.scrollHeight-e/B+L)),k=0===W?0:Math.max(0,Math.min(s+k/W,t.scrollWidth-n/W+T)),$+=u-A,S+=s-k}N.push({el:t,top:A,left:k})}return N};function Rt(t,e){if(!t.isConnected||!(t=>{let e=t;for(;e&&e.parentNode;){if(e.parentNode===document)return!0;e=e.parentNode instanceof ShadowRoot?e.parentNode.host:e.parentNode}return!1})(t))return;const n=(t=>{const e=window.getComputedStyle(t);return{top:parseFloat(e.scrollMarginTop)||0,right:parseFloat(e.scrollMarginRight)||0,bottom:parseFloat(e.scrollMarginBottom)||0,left:parseFloat(e.scrollMarginLeft)||0}})(t);if("object"==typeof(o=e)&&"function"==typeof o.behavior)return e.behavior(It(t,e));var o;const r="boolean"==typeof e||null==e?void 0:e.behavior;for(const{el:l,top:a,left:c}of It(t,(s=void 0,!1===(i=e)?{block:"end",inline:"nearest"}:(s=i)===Object(s)&&0!==Object.keys(s).length?i:{block:"start",inline:"nearest"}))){const t=a-n.top+n.bottom,e=c-n.left+n.right;l.scroll({top:t,left:e,behavior:r})}var i,s}let vt;const At=()=>(vt||(vt="performance"in window?performance.now.bind(performance):Date.now),vt());function jt(t){const e=At(),n=Math.min((e-t.startTime)/t.duration,1),o=t.ease(n),r=t.startX+(t.x-t.startX)*o,i=t.startY+(t.y-t.startY)*o;t.method(r,i,n,o),r!==t.x||i!==t.y?requestAnimationFrame((()=>jt(t))):t.cb()}function Gt(t,e,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:600,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t=>1+--t*t*t*t*t,i=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;const l=t,a=t.scrollLeft,c=t.scrollTop;jt({scrollable:l,method:(e,n,o,r)=>{const i=Math.ceil(e),l=Math.ceil(n);t.scrollLeft=i,t.scrollTop=l,null==s||s({target:t,elapsed:o,value:r,left:i,top:l})},startTime:At(),startX:a,startY:c,x:e,y:n,duration:o,ease:r,cb:i})}const te=function(t,e){const n=e||{};return(o=n)&&!o.behavior||"smooth"===o.behavior?Rt(t,{block:n.block,inline:n.inline,scrollMode:n.scrollMode,boundary:n.boundary,skipOverflowHiddenElements:n.skipOverflowHiddenElements,behavior:t=>Promise.all(t.reduce(((t,e)=>{let{el:o,left:r,top:i}=e;const s=o.scrollLeft,l=o.scrollTop;return s===r&&l===i?t:[...t,new Promise((t=>Gt(o,r,i,n.duration,n.ease,(()=>t({el:o,left:[s,r],top:[l,i]})),n.onScrollChange)))]}),[]))}):Promise.resolve(Rt(t,e));var o},ee=t=>Object.values(t).map((t=>t.current)).filter(Boolean);function pt(t,e,n,o,r,i){var s;const l=(null===(s=null==t?void 0:t.entry)||void 0===s?void 0:s.target)||t;if(!l)return;const a={behavior:e||"smooth",inline:n||"end",block:o||"nearest"};return i?l.scrollIntoView(a):te(l,Object.assign(Object.assign({},r),a))}const ne=t=>document.querySelector(`[${Nt}='${t}']`),re=t=>document.querySelector(`[${Tt}='${t}']`);function dt(t){return i.isValidElement(t)&&t||"function"==typeof t&&i.createElement(t,null)||!!t&&"object"==typeof t&&i.createElement(t,null)||null}const Lt=t=>{var e;return String((null===(e=null==t?void 0:t.props)||void 0===e?void 0:e[zt])||((null==t?void 0:t.key)||A).replace(/^\.\$/,A))};function bt(t){return!!t&&Object.prototype.hasOwnProperty.call(t,"current")}var oe=i.memo((function({children:t,className:e,id:n,index:o,refs:r}){const s=i.useRef(null);return r[String(o)]=s,i.createElement("div",{className:e,[Nt]:n,[Tt]:o,ref:s},t)}));function se({children:t,itemClassName:e=A,refs:n}){const o=i.Children.toArray(t).filter(Boolean),r=i.useMemo((()=>`${Ut} ${e}`),[e]);return o.map(((t,e)=>{const o=Lt(t);return i.createElement(oe,{className:r,id:o,key:o,refs:n,index:e},t)}))}function ie({className:t=A,children:e,onScroll:n=()=>{},scrollRef:o,containerRef:r}){const s=i.useMemo((()=>`${Ft} ${t}`),[t]),l=i.useCallback((t=>{bt(o)?o.current=t:o(t),bt(r)?r.current=t:r(t)}),[o,r]);return i.createElement("div",{className:s,onScroll:n,ref:l},e)}const gt=i.createContext({}),$t=typeof window<"u"?i.useLayoutEffect:i.useEffect;function le({items:t,itemsChanged:e,refs:n,options:o}){const r=i.useRef(),s=i.useCallback((e=>{var n,r;t.setBatch((n=e,r=o,[...n].map((t=>{var e,n,o,i;const s=t.target,l=String(null!==(n=null===(e=null==s?void 0:s.dataset)||void 0===e?void 0:e.key)&&void 0!==n?n:A);return[l,{index:String(null!==(i=null===(o=null==s?void 0:s.dataset)||void 0===o?void 0:o.index)&&void 0!==i?i:A),key:l,entry:t,visible:t.intersectionRatio>=r.ratio}]}))))}),[t,o]);$t((()=>{const t=ee(n),e=r.current||new IntersectionObserver(s,o);return r.current=e,t.forEach((t=>e.observe(t))),()=>{e.disconnect(),r.current=void 0}}),[s,e,o,n])}const ae=t=>i.Children.toArray(t).map(Lt).filter(Boolean),Ct={ratio:.9,rootMargin:"5px",threshold:[.05,.5,.75,.95]},ce={current:{}},ht=()=>{};function ue({LeftArrow:t,RightArrow:e,children:n,Header:o,Footer:r,transitionDuration:s=500,transitionBehavior:l,onInit:a=ht,onUpdate:c=ht,onMouseDown:u,onMouseLeave:d,onMouseUp:h,onMouseMove:f,onScroll:m=ht,onTouchMove:v,onTouchStart:p,onTouchEnd:b,onWheel:g=ht,options:y=Ct,scrollContainerClassName:w=A,containerRef:E=Jt,itemClassName:I=A,wrapperClassName:M=A,apiRef:x=ce,RTL:C,noPolyfill:R=!0}){const k=dt(t),S=dt(e),N=dt(o),j=dt(r),T=i.useRef(null),[L]=i.useState({}),W=i.useMemo((()=>Object.assign(Object.assign(Object.assign({},Ct),y),{root:T.current})),[y]),B=i.useRef(new Qt).current,V=function(t,e){const[n,o]=i.useState(A),r=i.useMemo((()=>ae(t)),[t]);return i.useEffect((()=>{const t=r.filter(Boolean).join(A);e.toItems().filter((t=>!r.includes(t))).forEach((t=>{e.delete(t)})),o(t)}),[r,e]),n}(n,B),D=((t,e)=>{const n=i.useRef(!0),o=i.useMemo((()=>[e-.05,e-.01,e,e+.01,e+.05]),[e]),r=i.useCallback((t=>{var o;n.current=(null===(o=null==t?void 0:t[0])||void 0===o?void 0:o.intersectionRatio)>=e}),[e]);return $t((()=>{const e=new IntersectionObserver(r,{threshold:o,rootMargin:"0px"});return t.current&&e.observe(t.current),()=>e.disconnect()}),[n,t,r,o]),n})(T,W.ratio+.05<1?W.ratio+.05:.95);le(i.useMemo((()=>({items:B,itemsChanged:V,options:W,refs:L})),[B,V,L,W]));const O=i.useMemo((()=>function(t,e,n,o){var r,s,l;const a=(e,n=!1)=>{const[o,r]=i.useState(n),s=i.useCallback((t=>{r(!(null==t||!t.visible))}),[]);return i.useEffect((()=>(t.subscribe(e,s),()=>{t.unsubscribe(e,s)})),[e,s]),o},c=!(null===(r=t.first())||void 0===r||!r.visible),u=!(null===(s=t.last())||void 0===s||!s.visible),d=e=>{var n;return null===(n=t.find((t=>t[1].key===String(e))))||void 0===n?void 0:n[1]},h=()=>{var e,n;const o=null===(n=null===(e=t.getVisible())||void 0===e?void 0:e[0])||void 0===n?void 0:n[1];return o?t.prev(o):void 0},f=()=>{var e;const n=null===(e=t.getVisible().findLast((()=>!0)))||void 0===e?void 0:e[1];return n?t.next(n):void 0},m=null===(l=null==n?void 0:n.boundary)||void 0===l?void 0:l.current;return{getItemById:d,getItemElementById:ne,getItemByIndex:e=>{var n;return null===(n=t.find((t=>String(t[1].index)===String(e))))||void 0===n?void 0:n[1]},getItemElementByIndex:re,getNextElement:f,getPrevElement:h,isFirstItemVisible:c,isItemVisible:e=>t.getVisible().map((t=>t[0])).includes(String(e)),isLastItem:e=>t.last()===d(e),isLastItemVisible:u,scrollNext:(t,e,r,{duration:i,boundary:s=m}={})=>{const l=t??(null==n?void 0:n.behavior);return pt(f(),l,e||"start",r||"nearest",{boundary:s,duration:i??(null==n?void 0:n.duration)},o)},scrollPrev:(t,e,r,{duration:i,boundary:s=m}={})=>{const l=t??(null==n?void 0:n.behavior);return pt(h(),l,e||"end",r||"nearest",{boundary:s,duration:i??(null==n?void 0:n.duration)},o)},useIsVisible:a,useLeftArrowVisible:()=>{const t=a("first",!0),[n,o]=i.useState(t);return i.useEffect((()=>{e.current&&o(t)}),[t]),n},useRightArrowVisible:()=>{const t=a("last",!1),[n,o]=i.useState(t);return i.useEffect((()=>{e.current&&o(t)}),[t]),n},scrollToItem:(t,e,r,i,s)=>{var l;return pt(t,e??(null==n?void 0:n.behavior),r,i,Object.assign(Object.assign({boundary:m},s),{duration:null!==(l=null==s?void 0:s.duration)&&void 0!==l?l:null==n?void 0:n.duration}),o)}}}(B,D,{duration:s,behavior:l,boundary:T},R)),[B,s,l,R,D]),H=i.useCallback((()=>Object.assign(Object.assign({},O),{items:B,scrollContainer:T,menuVisible:D})),[O,B,T,D]),[U,P]=i.useState((()=>H()));(({context:t,onInit:e,onUpdate:n})=>{const o=i.useCallback((()=>e(t)),[e,t]),r=i.useCallback((()=>n(t)),[n,t]),{items:s}=t;i.useEffect((()=>(s.subscribe($.onInit,o),s.subscribe($.onUpdate,r),()=>{s.unsubscribe($.onInit,o),s.unsubscribe($.onUpdate,r)})),[s,o,r])})({context:U,onInit:a,onUpdate:c}),i.useEffect((()=>P(H())),[H]),i.useEffect((()=>{bt(x)?x.current=U:x(U)}),[U,x]);const F=i.useCallback((t=>m(U,t)),[m,U]),Y=i.useCallback((t=>g(U,t)),[g,U]),_=i.useMemo((()=>`${Pt} ${M}`),[M]),X=i.useMemo((()=>`${w}${C?" rtl":A}`),[C,w]);return i.createElement("div",{className:_,onWheel:Y,onMouseDown:null==u?void 0:u(U),onMouseLeave:null==d?void 0:d(U),onMouseUp:null==h?void 0:h(U),onMouseMove:null==f?void 0:f(U),onTouchStart:null==p?void 0:p(U),onTouchMove:null==v?void 0:v(U),onTouchEnd:null==b?void 0:b(U)},i.createElement(gt.Provider,{value:U},i.createElement("div",{className:Yt},N),i.createElement("div",{className:Dt},i.createElement("div",{className:Xt},k),i.createElement(ie,{className:X,onScroll:F,scrollRef:T,containerRef:E},i.createElement(se,{refs:L,itemClassName:I},n)),i.createElement("div",{className:_t},S)),i.createElement("div",{className:qt},j)))}const Bt=()=>{const t=kt.useContext(gt),e=t.useLeftArrowVisible();return st.jsx(St,{disabled:e,direction:"left",sx:{marginLeft:"10px"},onClick:()=>t.scrollToItem(t.getPrevElement(),"smooth","start")})},Wt=()=>{const t=kt.useContext(gt),e=t.useRightArrowVisible();return st.jsx(St,{disabled:e,direction:"right",sx:{marginRight:"10px"},onClick:()=>t.scrollToItem(t.getNextElement(),"smooth","end")})},de=({children:t,dataCy:e})=>st.jsx(Ht,{"data-cy":e,sx:{alignSelf:"center",maxWidth:"100%"},children:st.jsx(he,{children:st.jsx(ue,{LeftArrow:Bt,RightArrow:Wt,onWheel:fe,children:t})})}),he=Ot("div")({"& .react-horizontal-scrolling-menu--scroll-container::-webkit-scrollbar":{display:"none"},"& .react-horizontal-scrolling-menu--scroll-container":{scrollbarWidth:"none","-ms-overflow-style":"none"}});function fe(t,e){0!==Math.abs(e.deltaX)||Math.abs(e.deltaY)<15?e.stopPropagation():e.deltaY<0?t.scrollNext():t.scrollPrev()}Bt.__docgenInfo={description:"",methods:[],displayName:"LeftArrow"},Wt.__docgenInfo={description:"",methods:[],displayName:"RightArrow"},de.__docgenInfo={description:"",methods:[],displayName:"VerticalList",props:{children:{required:!0,tsType:{name:"Array",elements:[{name:"ReactReactElement",raw:"React.ReactElement"}],raw:"React.ReactElement[]"},description:""},dataCy:{required:!1,tsType:{name:"string"},description:""}}};export{de as V};