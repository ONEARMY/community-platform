import{r as s}from"./iframe-BOUvZuaW.js";import{c as l}from"./client-CFiZdm8-.js";var n=new Map;function m(){return globalThis.IS_REACT_ACT_ENVIRONMENT}var a=({callback:e,children:r})=>{let t=s.useRef();return s.useLayoutEffect((()=>{t.current!==e&&(t.current=e,e())}),[e]),r};typeof Promise.withResolvers>"u"&&(Promise.withResolvers=()=>{let e=null,r=null;return{promise:new Promise(((t,n)=>{e=t,r=n})),resolve:e,reject:r}});var v=async(e,r,t)=>{let n=await c(r,t);if(m())return void n.render(e);let{promise:l,resolve:o}=Promise.withResolvers();return n.render(s.createElement(a,{callback:o},e)),l},E=(e,r)=>{let t=n.get(e);t&&(t.unmount(),n.delete(e))},c=async(e,r)=>{let t=n.get(e);return t||(t=l(e,r),n.set(e,t)),t};export{v as renderElement,E as unmountElement};